/*
ANSI C code generated by SmallEiffel The GNU Eiffel Compiler
Release -0.74 Beta #18 (Monday March 4th 2002)
Copyright (C), 1994-2002 - LORIA - UHP - INRIA - FRANCE
Dominique COLNET and Suzanne COLLIN - SmallEiffel@loria.fr
http://SmallEiffel.loria.fr
C Compiler options used: -pipe -O2 `sdl-config --libs`
*/
#ifdef __cplusplus
}
#endif
#include "bliss.h"
#ifdef __cplusplus
extern "C" {
#endif

void r203put_wave_index(T203* C,T2 a1){
(/*SFN*/C->_wave_index/*28*/)=a1;
(/*SFN*/C->_wave/*24*/)=r77at((T77*)((/*RF2*/((T28*)(r203song()))->_wave_table/*29*/)),(/*RF2*/(C)->_wave_index/*28*/));
(/*SFN*/C->_wave_length/*32*/)=(/*RF2*/((T76*)((/*RF2*/(C)->_wave/*24*/)))->_length/*20*/);
(/*SFN*/C->_modulus/*36*/)=((/*RF2*/(C)->_wave_length/*32*/))*(1024);
(/*SFN*/C->_freq/*20*/)=r5rounded(((T2toT5(1024))*((/*RF2*/(C)->_d_cache/*4*/)))/((/*RF2*/((T76*)((/*RF2*/(C)->_wave/*24*/)))->_root_freq/*4*/)));
}

void r203volslidedown(T203* C,T2 a1){
(/*SFN*/C->_volslide/*45*/)=((T5)(-(a1)))/((256)*(512));
}

T5 r203next_sample(T203* C){
T5 R=0;
/*[IF*/
if((/*RF2*/(C)->_playing/*40*/)){
R=(r76get_data_double((T76*)((/*RF2*/(C)->_wave/*24*/)),((/*RF2*/(C)->_x/*41*/))/(1024)))*((/*RF2*/(C)->_vol/*12*/));
(/*SFN*/C->_vol/*12*/)=((/*RF2*/(C)->_vol/*12*/))+((/*RF2*/(C)->_volslide/*45*/));
/*[IF*/
if(((/*RF2*/(C)->_vol/*12*/))<(T4toT5(0.0))){
(/*SFN*/C->_vol/*12*/)=T4toT5(0.0);
}
/*FI]*/
(/*SFN*/C->_x/*41*/)=((/*RF2*/(C)->_x/*41*/))+((/*RF2*/(C)->_freq/*20*/));
/*[IF*/
if(((/*RF2*/(C)->_x/*41*/))>=((/*RF2*/(C)->_modulus/*36*/))){
(/*SFN*/C->_playing/*40*/)=0;
}
/*FI]*/
}
/*FI]*/
return R;
}

T0* r203song(void){
if(fBC19song==0){fBC19song=1;{
{T28*n=new28();
oBC19song=((T0*)n);
r28make(n);
}
}}
return oBC19song;
}

void r203play_freq(T203* C,T5 a1){
(/*SFN*/C->_playing/*40*/)=1;
/*[IRF3.3put_freq*/((((T203*)(C)))->_d_cache/*4*/)=(a1);
/*]*/
/*[IRF3.3put_vol*/((((T203*)(C)))->_vol/*12*/)=(T4toT5(1.0));
/*]*/
(/*SFN*/C->_volslide/*45*/)=T4toT5(0.0);
(/*SFN*/C->_x/*41*/)=0;
}

T0* r203twin(T203* C){
T0* R=NULL;
R=((void*)new203());
*((T203*)R)=*C;
return R;
}

void r94process_text_edit_key(T94* C,T2 a1){
/*[IF*/
if(((a1)>=(48))&&((a1)<=(57))){
r94text_append(C,((T3)(a1)));
}
 else if(((a1)>=(97))&&((a1)<=(122))){
r94text_append(C,((T3)((a1)-(32))));
}
 else if((a1)==(8)){
r94text_remove_last(C);
}
/*FI]*/
}

T0* r94blue(void){
if(fBC17blue==0){fBC17blue=1;{
{T50*n=new50();
oBC17blue=((T0*)n);
r50make(n,0,0,127);
}
}}
return oBC17blue;
}

void r94handle_event(T94* C,T0* a1){
/*[IRF3.3put_x*/((((T22*)(((T22*)a1))))->_x/*8*/)=(((/*RF2*/(((T22*)a1))->_x/*8*/))-((/*RF2*/(C)->_offsetx/*4*/)));
/*]*/
/*[IRF3.3put_y*/((((T22*)(((T22*)a1))))->_y/*4*/)=(((/*RF2*/(((T22*)a1))->_y/*4*/))-((/*RF2*/(C)->_offsety/*8*/)));
/*]*/
r94process_event(C,a1);
}

void r94process_key(T94* C,T0* a1){
/*[IF*/
if(/*[ from line 272 of ./sdl_constant.e:*/
is_kmod((/*RF2*/(((T22*)a1))->_kmod/*24*/),192)
/* from line 272 of ./sdl_constant.e]*/
){
/*[INSPECT*/
{int z1=(/*RF2*/(((T22*)a1))->_i1/*20*/);
switch(z1){
case 109:
r94put_machine(C,r28next_machine((T28*)(r94song()),(/*RF2*/(C)->_machine/*44*/)));
break;
case 112:
/*[IF*/
if(((/*RF2*/(C)->_pattern/*48*/))!=((void*)(NULL))){
(/*SFN*/C->_pattern/*48*/)=/*SSFRF4*//*X30next_pattern*/r67next_pattern((T67*)((/*RF2*/(C)->_machine/*44*/)),(/*RF2*/(C)->_pattern/*48*/));
}
/*FI]*/
break;
case 48:
(/*SFN*/C->_pattern/*48*/)=/*SSWARF2*//*X30setup_pattern*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*44*/)))->_setup_pattern/*20*/);
break;
case 13:
(/*SFN*/C->_pattern/*48*/)=X30new_pattern_autoname((/*RF2*/(C)->_machine/*44*/));
break;
}
}/*INSPECT]*/
}
else{
/*[IF*/
if(((/*RF2*/(C)->_pattern/*48*/))!=((void*)(NULL))){
r94process_edit_key(C,(/*RF2*/(((T22*)a1))->_i1/*20*/));
}
/*FI]*/
}
/*FI]*/
}

void r94draw_spreadsheet(T94* C){
T2 _r=0;
T2 _c=0;
T0* _it=NULL;
/*[IRF3.6fill_rect*/{T94* C1=C;
T2 b1=(30)+(((/*RF2*/(C)->_cursorc/*32*/))*(50));
T2 b2=(40)+(((/*RF2*/(C)->_cursorr/*28*/))*(20));
T2 b3=50;
T2 b4=20;
T0* b5=r94blue();
/*[ from line 50 of ./window.e:*/
ext_fill_rect((b1)+((/*RF2*/(C1)->_offsetx/*4*/)),(b2)+((/*RF2*/(C1)->_offsety/*8*/)),b3,b4,(/*RF2*/(((T50*)b5))->_to_integer/*4*/));
/* from line 50 of ./window.e]*/
}/*]*/
/*[IRF3.6aalinecolor*/{T94* C1=C;
T2 b1=0;
T2 b2=40;
T2 b3=((/*RF2*/(C)->_width/*12*/))-(1);
T2 b4=40;
T0* b5=r94white();
/*[ from line 90 of ./window.e:*/
ext_aalinecolor(((/*RF2*/(C1)->_offsetx/*4*/))+(b1),((/*RF2*/(C1)->_offsety/*8*/))+(b2),((/*RF2*/(C1)->_offsetx/*4*/))+(b3),((/*RF2*/(C1)->_offsety/*8*/))+(b4),(/*RF2*/(((T50*)b5))->_to_gfx_integer/*8*/));
/* from line 90 of ./window.e]*/
}/*]*/
/*[IRF3.6aalinecolor*/{T94* C1=C;
T2 b1=30;
T2 b2=20;
T2 b3=30;
T2 b4=((/*RF2*/(C)->_height/*16*/))-(1);
T0* b5=r94white();
/*[ from line 90 of ./window.e:*/
ext_aalinecolor(((/*RF2*/(C1)->_offsetx/*4*/))+(b1),((/*RF2*/(C1)->_offsety/*8*/))+(b2),((/*RF2*/(C1)->_offsetx/*4*/))+(b3),((/*RF2*/(C1)->_offsety/*8*/))+(b4),(/*RF2*/(((T50*)b5))->_to_gfx_integer/*8*/));
/* from line 90 of ./window.e]*/
}/*]*/
_r=0;
while (!((_r)==((/*RF2*/(C)->_maxr/*36*/))))
{
/*[IRF3.6draw_row_label*/{T94* C1=C;
T2 b1=_r;
T0* b2=r2to_string(((/*RF2*/(C)->_originr/*24*/))+(_r));
r94write(C1,0,(40)+((b1)*(20)),b2);
}/*]*/
_r=(_r)+(1);
}
_c=0;
while (!((_c)==((/*RF2*/(C)->_maxc/*40*/))))
{
/*[IRF3.6draw_col_label*/{T94* C1=C;
T2 b1=_c;
T0* b2=r2to_string(((/*RF2*/(C)->_originc/*20*/))+(_c));
r94write(C1,(30)+((b1)*(50)),20,b2);
}/*]*/
_c=(_c)+(1);
}
_r=0;
while (!((_r)==((/*RF2*/(C)->_maxr/*36*/))))
{
_c=0;
while (!((_c)==((/*RF2*/(C)->_maxc/*40*/))))
{
/*[IF*/
if(/*(IRF4.6has*/r54has(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_originr/*24*/))+(_r),((/*RF2*/(C)->_originc/*20*/))+(_c))/*)*/){
r94write(C,(30)+((_c)*(50)),(40)+((_r)*(20)),/*(IRF4.6at*/r54at(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_originr/*24*/))+(_r),((/*RF2*/(C)->_originc/*20*/))+(_c))/*)*/);
}
/*FI]*/
_c=(_c)+(1);
}
_r=(_r)+(1);
}
_it=r107get_new_iterator((T107*)(r28get_playing_rows((T28*)(r94song()),(/*RF2*/(C)->_pattern/*48*/))));
X98start(_it);
while (!(X98is_off(_it)))
{
_r=(40)+(((X98item(_it))-((/*RF2*/(C)->_originr/*24*/)))*(20));
/*[IF*/
if(((_r)>=(40))&&((_r)<((/*RF2*/(C)->_height/*16*/)))){
/*[IRF3.6aalinecolor*/{T94* C1=C;
T2 b1=0;
T2 b2=_r;
T2 b3=((/*RF2*/(C)->_width/*12*/))-(1);
T2 b4=_r;
T0* b5=r94white();
/*[ from line 90 of ./window.e:*/
ext_aalinecolor(((/*RF2*/(C1)->_offsetx/*4*/))+(b1),((/*RF2*/(C1)->_offsety/*8*/))+(b2),((/*RF2*/(C1)->_offsetx/*4*/))+(b3),((/*RF2*/(C1)->_offsety/*8*/))+(b4),(/*RF2*/(((T50*)b5))->_to_gfx_integer/*8*/));
/* from line 90 of ./window.e]*/
}/*]*/
}
/*FI]*/
X98next(_it);
}
}

T0* r94song(void){
if(fBC19song==0){fBC19song=1;{
{T28*n=new28();
oBC19song=((T0*)n);
r28make(n);
}
}}
return oBC19song;
}

void r94text_remove_last(T94* C){
T0* _s=NULL;
/*[IF*/
if(/*(IRF4.6has*/r54has(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)))/*)*/){
_s=/*(IRF4.6at*/r54at(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)))/*)*/;
r7remove_last(((T7*)_s),1);
/*[IF*/
if(/*(IRF4.7is_empty*/((/*RF2*/(((T7*)_s))->_count/*8*/))==(0)/*)*/){
/*[IRF3.5remove*/r54remove(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)));
/*]*/
}
/*FI]*/
}
/*FI]*/
}

void r94write(T94* C,T2 a1,T2 a2,T0* a3){
T0* _img=NULL;
{T48*n=new48();
/*[IRF3.1make*//*]*/
_img=((T0*)n);
}
r48render_string(((T48*)_img),a3);
/*[IRF3.6blit*/{T48* C1=((T48*)_img);
T2 b1=((/*RF2*/(C)->_offsetx/*4*/))+(a1);
T2 b2=((/*RF2*/(C)->_offsety/*8*/))+(a2);
/*[ from line 169 of ./image.e:*/
ext_blit_img((/*RF2*/(C1)->_ptr/*5*/),b1,b2);
/* from line 169 of ./image.e]*/
}/*]*/
r48free(((T48*)_img));
}

void r94put_machine(T94* C,T0* a1){
(/*SFN*/C->_machine/*44*/)=a1;
/*[IF*/
if(/*(IRF4.7is_empty*/((/*RF2*/((T61*)(/*SSWARF2*//*X30pattern_table*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*44*/)))->_pattern_table/*12*/)))->_count/*12*/))==(0)/*)*/){
(/*SFN*/C->_pattern/*48*/)=NULL;
}
else{
(/*SFN*/C->_pattern/*48*/)=/*(IRF4.6first*/(/*RF2*/(((T60*)((/*RF2*/((T59*)(/*SSWARF2*//*X30pattern_list*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*44*/)))->_pattern_list/*16*/)))->_first_link/*8*/))))->_item/*4*/)/*)*/;
}
/*FI]*/
}

void r94move_cursor_up(T94* C,T2 a1){
/*[IF*/
if(((/*RF2*/(C)->_cursorr/*28*/))>=(a1)){
(/*SFN*/C->_cursorr/*28*/)=((/*RF2*/(C)->_cursorr/*28*/))-(a1);
}
else{
/*[IF*/
if(((/*RF2*/(C)->_originr/*24*/))>=(a1)){
(/*SFN*/C->_originr/*24*/)=((/*RF2*/(C)->_originr/*24*/))-(a1);
}
else{
(/*SFN*/C->_originr/*24*/)=0;
}
/*FI]*/
}
/*FI]*/
}

void r94text_append(T94* C,T3 a1){
T0* _s=NULL;
/*[IF*/
if(/*(IRF4.6has*/r54has(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)))/*)*/){
_s=/*(IRF4.6at*/r54at(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)))/*)*/;
}
else{
{T7*n=new7();
r7make(n,10);
_s=((T0*)n);
}
}
/*FI]*/
r7add_last(((T7*)_s),a1);
/*[IRF3.5put*/r54put(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),_s,((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)));
/*]*/
}

void r94make(T94* C,T2 a1,T2 a2,T2 a3,T2 a4){
r94put_geometry(C,a1,a2,a3,a4);
(/*SFN*/C->_maxc/*40*/)=(((/*RF2*/(C)->_width/*12*/))/(50))-(1);
(/*SFN*/C->_maxr/*36*/)=(((/*RF2*/(C)->_height/*16*/))/(20))-(1);
}

void r94put_geometry(T94* C,T2 a1,T2 a2,T2 a3,T2 a4){
(/*SFN*/C->_offsetx/*4*/)=a1;
(/*SFN*/C->_offsety/*8*/)=a2;
(/*SFN*/C->_width/*12*/)=a3;
(/*SFN*/C->_height/*16*/)=a4;
}

void r94process_event(T94* C,T0* a1){
/*[IF*/
if(((/*RF2*/(((T22*)a1))->_type/*12*/))==(2)){
r94process_key(C,a1);
}
/*FI]*/
}

T0* r94twin(T94* C){
T0* R=NULL;
R=((void*)new94());
*((T94*)R)=*C;
return R;
}

T0* r94white(void){
if(fBC17white==0){fBC17white=1;{
{T50*n=new50();
oBC17white=((T0*)n);
r50make(n,255,255,255);
}
}}
return oBC17white;
}

void r94process_edit_key(T94* C,T2 a1){
/*[INSPECT*/
{int z1=a1;
switch(z1){
case 275:
/*[IF*/
if(((/*RF2*/(C)->_cursorc/*32*/))<(((/*RF2*/(C)->_maxc/*40*/))-(1))){
(/*SFN*/C->_cursorc/*32*/)=((/*RF2*/(C)->_cursorc/*32*/))+(1);
}
else{
(/*SFN*/C->_originc/*20*/)=((/*RF2*/(C)->_originc/*20*/))+(1);
}
/*FI]*/
break;
case 276:
/*[IF*/
if(((/*RF2*/(C)->_cursorc/*32*/))>(0)){
(/*SFN*/C->_cursorc/*32*/)=((/*RF2*/(C)->_cursorc/*32*/))-(1);
}
else{
/*[IF*/
if(((/*RF2*/(C)->_originc/*20*/))>(0)){
(/*SFN*/C->_originc/*20*/)=((/*RF2*/(C)->_originc/*20*/))-(1);
}
/*FI]*/
}
/*FI]*/
break;
case 274:
r94move_cursor_down(C,1);
break;
case 273:
r94move_cursor_up(C,1);
break;
default:;
r94process_text_edit_key(C,a1);
}
}/*INSPECT]*/
}

void r94move_cursor_down(T94* C,T2 a1){
/*[IF*/
if(((/*RF2*/(C)->_cursorr/*28*/))<(((/*RF2*/(C)->_maxr/*36*/))-(a1))){
(/*SFN*/C->_cursorr/*28*/)=((/*RF2*/(C)->_cursorr/*28*/))+(a1);
}
else{
(/*SFN*/C->_originr/*24*/)=((/*RF2*/(C)->_originr/*24*/))+(a1);
}
/*FI]*/
}

void r94update(T94* C){
r94write(C,0,0,r7_px_43(se_ms(9,"Machine: "),/*SSWARF2*//*X30name*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*44*/)))->_name/*4*/)));
/*[IF*/
if(((/*RF2*/(C)->_pattern/*48*/))!=((void*)(NULL))){
r94write(C,300,0,r7_px_43(se_ms(9,"Pattern: "),(/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_name/*4*/)));
r94draw_spreadsheet(C);
}
else{
r94write(C,(((/*RF2*/(C)->_width/*12*/))/(2))-(100),((/*RF2*/(C)->_height/*16*/))/(2),((T0*)se_ms(41,"Press Ctrl-Enter to create a new pattern.")));
}
/*FI]*/
}

T5 r76get_data_double(T76* C,T2 a1){
T5 R=0;
T2 _n=0;
_n=(T3code(r197item((T197*)((/*RF2*/(C)->_data/*24*/)),(2)*(a1))))+((256)*(T3code(r197item((T197*)((/*RF2*/(C)->_data/*24*/)),((2)*(a1))+(1)))));
/*[IF*/
if((_n)>=(32768)){
_n=(_n)-(65536);
}
/*FI]*/
R=(((T5)(_n))/(65536))*((/*RF2*/(C)->_volume/*12*/));
return R;
}

T0* r76twin(T76* C){
T0* R=NULL;
R=((void*)new76());
*((T76*)R)=*C;
return R;
}

void r76put_name(T76* C,T0* a1){
{T7*n=new7();
r7copy(n,a1);
(/*SFN*/C->_name/*28*/)=((T0*)n);
}
}

T0* r173twin(T173* C){
T0* R=NULL;
R=((void*)new173());
*((T173*)R)=*C;
return R;
}

T0* r22twin(T22* C){
T0* R=NULL;
R=((void*)new22());
*((T22*)R)=*C;
return R;
}

void r22update(T22* C){
/*[IRF3.3put_x*/((((T22*)(C)))->_x/*8*/)=(/*[ from line 54 of ./event.e:*/
export_current_x()
/* from line 54 of ./event.e]*/
);
/*]*/
/*[IRF3.3put_y*/((((T22*)(C)))->_y/*4*/)=(/*[ from line 58 of ./event.e:*/
export_current_y()
/* from line 58 of ./event.e]*/
);
/*]*/
/*[IRF3.3put_i1*/((((T22*)(C)))->_i1/*20*/)=(/*[ from line 62 of ./event.e:*/
export_current_i1()
/* from line 62 of ./event.e]*/
);
/*]*/
/*[IRF3.3put_i2*/((((T22*)(C)))->_i2/*16*/)=(/*[ from line 66 of ./event.e:*/
export_current_i2()
/* from line 66 of ./event.e]*/
);
/*]*/
/*[IRF3.3put_kmod*/((((T22*)(C)))->_kmod/*24*/)=(/*[ from line 70 of ./event.e:*/
export_current_kmod()
/* from line 70 of ./event.e]*/
);
/*]*/
/*[IRF3.3put_type*/((((T22*)(C)))->_type/*12*/)=(/*[ from line 74 of ./event.e:*/
export_current_type()
/* from line 74 of ./event.e]*/
);
/*]*/
}

T0* r28next_machine(T28* C,T0* a1){
T0* R=NULL;
T2 _i=0;
_i=(r39fast_index_of((T39*)((/*RF2*/(C)->_machine_list/*13*/)),a1))+(1);
/*[IF*/
if((_i)>((/*RF2*/((T39*)((/*RF2*/(C)->_machine_list/*13*/)))->_upper/*4*/))){
_i=1;
}
/*FI]*/
R=r39_px_64((T39*)((/*RF2*/(C)->_machine_list/*13*/)),_i);
return R;
}

T0* r28at(T28* C,T2 a1,T2 a2){
T0* R=NULL;
R=r56at((T56*)((/*RF2*/((T80*)(r81_px_64((T81*)((/*RF2*/(C)->_tracks/*25*/)),a2)))->_commands/*8*/)),a1);
return R;
}
T0*oBC29machine_class_table=NULL;
int fBC29machine_class_table=0;

T0* r28machine_class_table(void){
if(fBC29machine_class_table==0){fBC29machine_class_table=1;{
T0* _m=NULL;
{T43*n=new43();
oBC29machine_class_table=((T0*)n);
/*[IRF3.4make*/r43with_capacity(n,193);
/*]*/
}
{T75*n=new75();
/*[IRF3.6register*/{T75* C1=n;
T0* b1=oBC29machine_class_table;
r43put(((T43*)b1),(T0*)C1,((T0*)ms75_265794));
}/*]*/
_m=((T0*)n);
}
{T74*n=new74();
/*[IRF3.6register*/{T74* C1=n;
T0* b1=oBC29machine_class_table;
r43put(((T43*)b1),(T0*)C1,((T0*)ms74_1325625));
}/*]*/
_m=((T0*)n);
}
{T73*n=new73();
/*[IRF3.6register*/{T73* C1=n;
T0* b1=oBC29machine_class_table;
r43put(((T43*)b1),(T0*)C1,((T0*)ms73_319144));
}/*]*/
_m=((T0*)n);
}
{T72*n=new72();
/*[IRF3.6register*/{T72* C1=n;
T0* b1=oBC29machine_class_table;
r43put(((T43*)b1),(T0*)C1,((T0*)ms72_2425));
}/*]*/
_m=((T0*)n);
}
{T71*n=new71();
/*[IRF3.6register*/{T71* C1=n;
T0* b1=oBC29machine_class_table;
r43put(((T43*)b1),(T0*)C1,((T0*)ms71_33463794));
}/*]*/
_m=((T0*)n);
}
{T69*n=new69();
/*[IRF3.6register*/{T69* C1=n;
T0* b1=oBC29machine_class_table;
r43put(((T43*)b1),(T0*)C1,((T0*)ms69_1327181));
}/*]*/
_m=((T0*)n);
}
{T67*n=new67();
/*[IRF3.6register*/{T67* C1=n;
T0* b1=oBC29machine_class_table;
r43put(((T43*)b1),(T0*)C1,((T0*)ms67_13464));
}/*]*/
_m=((T0*)n);
}
}}
return oBC29machine_class_table;
}

void r28move_to(T0* a1,T2 a2,T2 a3){
/*SSPRF3*//*X30move_to*/r67move_to(((T67*)a1),a2,a3);
}

T5 r28next_sample(T28* C){
T5 R=0;
/*[IF*/
if((/*RF2*/(C)->_play_flag/*8*/)){
/*[IF*/
if(/*(IRF4.7new_beat*/((/*RF2*/(C)->_sample_mod_tick/*57*/))==(0)/*)*/){
r28boom(C);
}
/*FI]*/
r28increment_sample_count(C);
r28unvisit_all_machines(C);
X30compute_next_frame((/*RF2*/(C)->_master/*4*/));
R=/*SSWARF2*//*X30last_frame*/(/*RF2*/((T67*)((/*RF2*/(C)->_master/*4*/)))->_last_frame/*52*/);
/*[IF*/
if((R)>(T4toT5(1.0))){
R=T4toT5(1.0);
}
 else if((R)<(T4toT5(-(1.0)))){
R=T4toT5(-(1.0));
}
/*FI]*/
}
/*FI]*/
return R;
}

T0* r28new_machine_autoname(T28* C,T0* a1){
T0* R=NULL;
T0* _s=NULL;
T2 _i=0;
T0* _m=NULL;
_m=r43at((T43*)(r28machine_class_table()),a1);
_s=X30id(_m);
/*[IF*/
if(r43has((T43*)((/*RF2*/(C)->_machine_table/*9*/)),_s)){
_i=2;
while (!(!(r43has((T43*)((/*RF2*/(C)->_machine_table/*9*/)),r7_px_43(((T7*)_s),r2to_string(_i))))))
{
_i=(_i)+(1);
}
_s=r7_px_43(((T7*)_s),r2to_string(_i));
}
/*FI]*/
R=r28add_machine(C,_m,_s);
return R;
}

void r28boom(T28* C){
T0* _it=NULL;
T0* _itm=NULL;
/*[IF*/
if(((/*RF2*/(C)->_beat_count/*33*/))>=((/*RF2*/(C)->_end_beat/*37*/))){
(/*SFN*/C->_beat_count/*33*/)=0;
}
/*FI]*/
_itm=r39get_new_iterator((T39*)((/*RF2*/(C)->_machine_list/*13*/)));
r88start(((T88*)_itm));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T88*)_itm))->_current_link/*8*/))==(NULL)/*)*/))
{
X30boom(/*(IRF4.6item*/(/*RF2*/(((T41*)((/*RF2*/(((T88*)_itm))->_current_link/*8*/))))->_item/*4*/)/*)*/);
r88next(((T88*)_itm));
}
_it=r81get_new_iterator((T81*)((/*RF2*/(C)->_tracks/*25*/)));
r114start(((T114*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T114*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
r80boom((T80*)(/*(IRF4.6item*/(/*RF2*/(((T82*)((/*RF2*/(((T114*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/),(/*RF2*/(C)->_beat_count/*33*/));
r114next(((T114*)_it));
}
(/*SFN*/C->_beat_count/*33*/)=((/*RF2*/(C)->_beat_count/*33*/))+(1);
}

void r28jump_to(T28* C,T2 a1){
(/*SFN*/C->_sample_mod_tick/*57*/)=0;
(/*SFN*/C->_beat_count/*33*/)=a1;
}

T6 r28exists_edge(T0* a1,T0* a2){
T6 R=0;
T0* _it=NULL;
_it=r65get_new_iterator((T65*)(/*SSWARF2*//*X30in_connection*/(/*RF2*/(((T67*)a2))->_in_connection/*8*/)));
r122start(((T122*)_it));
while (!((/*(IRF4.7is_off*/((/*RF2*/(((T122*)_it))->_current_link/*8*/))==(NULL)/*)*/)||((R)==(1))))
{
/*[IF*/
if(((/*RF2*/((T64*)(/*(IRF4.6item*/(/*RF2*/(((T66*)((/*RF2*/(((T122*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_src/*8*/))==((void*)(a1))){
R=1;
}
else{
r122next(((T122*)_it));
}
/*FI]*/
}
return R;
}

void r28make(T28* C){
{T39*n=new39();
r39make(n);
(/*SFN*/C->_machine_zorder/*17*/)=((T0*)n);
}
{T43*n=new43();
/*[IRF3.4make*/r43with_capacity(n,193);
/*]*/
(/*SFN*/C->_machine_table/*9*/)=((T0*)n);
}
{T39*n=new39();
r39make(n);
(/*SFN*/C->_machine_list/*13*/)=((T0*)n);
}
{T65*n=new65();
r65make(n);
(/*SFN*/C->_connection_list/*21*/)=((T0*)n);
}
{T81*n=new81();
r81make(n);
(/*SFN*/C->_tracks/*25*/)=((T0*)n);
}
{T77*n=new77();
/*[IRF3.4make*/r77with_capacity(n,193);
/*]*/
(/*SFN*/C->_wave_table/*29*/)=((T0*)n);
}
(/*SFN*/C->_master/*4*/)=r28new_machine(C,((T0*)se_ms(6,"Master")),((T0*)se_ms(6,"Master")));
/*SSPRF3*//*X30move_to*/r67move_to((T67*)((/*RF2*/(C)->_master/*4*/)),((638)-(/*SSWARF2*//*X30width*/(/*RF2*/((T67*)((/*RF2*/(C)->_master/*4*/)))->_width/*32*/)))/(2),((438)-(/*SSWARF2*//*X30height*/(/*RF2*/((T67*)((/*RF2*/(C)->_master/*4*/)))->_height/*36*/)))/(2));
(/*SFN*/C->_end_beat/*37*/)=16;
}

void r28calculate_samples_per_tick(T28* C){
(/*SFN*/C->_sample_mod_tick/*57*/)=0;
(/*SFN*/C->_samples_per_tick/*65*/)=r5rounded(((T5)((60)*(44100)))/(((/*RF2*/(C)->_bpm/*49*/))*((/*RF2*/(C)->_tpb/*53*/))));
}

void r28import_buzz(T28* C,T0* a1){
T0* _bc=NULL;
{T131*n=new131();
/*[IRF3.1make*//*]*/
_bc=((T0*)n);
}
r131convert((T0*)C,a1);
}

T6 r28has(T28* C,T2 a1,T2 a2){
T6 R=0;
R=r56has((T56*)((/*RF2*/((T80*)(r81_px_64((T81*)((/*RF2*/(C)->_tracks/*25*/)),a2)))->_commands/*8*/)),a1);
return R;
}

T0* r28add_machine(T28* C,T0* a1,T0* a2){
T0* R=NULL;
R=X30make_instance(a1,a2);
r43put((T43*)((/*RF2*/(C)->_machine_table/*9*/)),R,a2);
r39add_last((T39*)((/*RF2*/(C)->_machine_zorder/*17*/)),R);
r39add_last((T39*)((/*RF2*/(C)->_machine_list/*13*/)),R);
return R;
}

void r28save(T28* C,T0* a1){
T0* _it=NULL;
T0* _m=NULL;
_it=r39get_new_iterator((T39*)((/*RF2*/(C)->_machine_zorder/*17*/)));
r88start(((T88*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T88*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
_m=/*(IRF4.6item*/(/*RF2*/(((T41*)((/*RF2*/(((T88*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/;
r83start_machine(((T83*)a1),/*SSWARF2*//*X30name*/(/*RF2*/(((T67*)_m))->_name/*4*/));
/*[IRF3.6put_machine_class*/{T83* C1=((T83*)a1);
T0* b1=X30id(_m);
r83put_line(C1,r7_px_43((T7*)(r7_px_43(se_ms(7,"class \""),b1)),((T0*)se_ms(1,"\""))));
}/*]*/
r83put_machine_pos(((T83*)a1),/*SSWARF2*//*X30posx*/(/*RF2*/(((T67*)_m))->_posx/*28*/),/*SSWARF2*//*X30posy*/(/*RF2*/(((T67*)_m))->_posy/*24*/));
r83end_machine(((T83*)a1));
r88next(((T88*)_it));
}
_it=r39get_new_iterator((T39*)((/*RF2*/(C)->_machine_zorder/*17*/)));
r83start_zorder(((T83*)a1));
r88start(((T88*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T88*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
/*[IRF3.6put_machine_name*/{T83* C1=((T83*)a1);
T0* b1=/*SSWARF2*//*X30name*/(/*RF2*/((T67*)(/*(IRF4.6item*/(/*RF2*/(((T41*)((/*RF2*/(((T88*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_name/*4*/);
r83put_line(C1,r7_px_43((T7*)(r7_px_43(se_ms(9,"machine \""),b1)),((T0*)se_ms(1,"\""))));
}/*]*/
r88next(((T88*)_it));
}
r83end_zorder(((T83*)a1));
}

void r28setup_machines(T28* C){
T0* _it=NULL;
_it=r39get_new_iterator((T39*)((/*RF2*/(C)->_machine_list/*13*/)));
r88start(((T88*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T88*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
/*SSPRF3*//*X30setup*//*[IRF3.5setup*/r51instant_execute(((T51*)((/*RF2*/((T67*)(/*(IRF4.6item*/(/*RF2*/(((T41*)((/*RF2*/(((T88*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_setup_pattern/*20*/))));
/*]*/
r88next(((T88*)_it));
}
}

void r28put_bpm_tpb(T28* C,T2 a1,T2 a2){
(/*SFN*/C->_bpm/*49*/)=a1;
(/*SFN*/C->_tpb/*53*/)=a2;
r28calculate_samples_per_tick(C);
}

void r28toposort(T28* C){
T0* _sl=NULL;
T0* _m=NULL;
T0* _it=NULL;
{T39*n=new39();
r39make(n);
_sl=((T0*)n);
}
r39add_last(((T39*)_sl),(/*RF2*/(C)->_master/*4*/));
{T39*n=new39();
r39make(n);
(/*SFN*/C->_machine_topo_order/*69*/)=((T0*)n);
}
while (!(/*(IRF4.7is_empty*/((/*RF2*/(((T39*)_sl))->_first_link/*8*/))==(NULL)/*)*/))
{
_m=/*(IRF4.6last*/(/*RF2*/(((T41*)((/*RF2*/(((T39*)_sl))->_last_link/*12*/))))->_item/*4*/)/*)*/;
r39remove_last(((T39*)_sl));
r39add_first((T39*)((/*RF2*/(C)->_machine_topo_order/*69*/)),_m);
_it=r65get_new_iterator((T65*)(/*SSWARF2*//*X30in_connection*/(/*RF2*/(((T67*)_m))->_in_connection/*8*/)));
r122start(((T122*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T122*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
/*[IF*/
if(!(r39fast_has((T39*)((/*RF2*/(C)->_machine_topo_order/*69*/)),(/*RF2*/((T64*)(/*(IRF4.6item*/(/*RF2*/(((T66*)((/*RF2*/(((T122*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_src/*8*/)))){
r39add_last(((T39*)_sl),(/*RF2*/((T64*)(/*(IRF4.6item*/(/*RF2*/(((T66*)((/*RF2*/(((T122*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_src/*8*/));
}
/*FI]*/
r122next(((T122*)_it));
}
}
}

T0* r28get_playing_rows(T28* C,T0* a1){
T0* R=NULL;
T0* _it=NULL;
{T107*n=new107();
r107make(n);
R=((T0*)n);
}
_it=r81get_new_iterator((T81*)((/*RF2*/(C)->_tracks/*25*/)));
r114start(((T114*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T114*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
/*[IF*/
if(((/*RF2*/((T80*)(/*(IRF4.6item*/(/*RF2*/(((T82*)((/*RF2*/(((T114*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_playing_pattern/*12*/))==((void*)(a1))){
r107add_last(((T107*)R),((/*RF2*/(C)->_beat_count/*33*/))-((/*RF2*/((T80*)(/*(IRF4.6item*/(/*RF2*/(((T82*)((/*RF2*/(((T114*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_offset/*16*/)));
}
/*FI]*/
r114next(((T114*)_it));
}
return R;
}

T0* r28twin(T28* C){
T0* R=NULL;
R=((void*)new28());
*((T28*)R)=*C;
return R;
}

void r28increment_sample_count(T28* C){
(/*SFN*/C->_sample_count/*61*/)=((/*RF2*/(C)->_sample_count/*61*/))+(1);
(/*SFN*/C->_sample_mod_tick/*57*/)=((/*RF2*/(C)->_sample_mod_tick/*57*/))+(1);
/*[IF*/
if(((/*RF2*/(C)->_sample_mod_tick/*57*/))==((/*RF2*/(C)->_samples_per_tick/*65*/))){
(/*SFN*/C->_sample_mod_tick/*57*/)=0;
}
/*FI]*/
}

void r28connect(T28* C,T0* a1,T0* a2){
T0* _edge=NULL;
/*[IF*/
if((a1)==((void*)(a2))){
r89put_string(((T0*)se_ms(15,"cycle detected\n")));
}
 else if(r28exists_edge(a1,a2)){
r89put_string(((T0*)se_ms(24,"duplicate edge detected\n")));
}
else{
{T64*n=new64();
r64make(n,a1,a2);
_edge=((T0*)n);
}
/*SSPRF3*//*X30add_inedge*//*[IRF3.5add_inedge*/r65add_last(((T65*)((/*RF2*/(((T67*)a2))->_in_connection/*8*/))),_edge);
/*]*/
/*[IF*/
/*AF*//*AE*/
r65add_last((T65*)((/*RF2*/(C)->_connection_list/*21*/)),_edge);
/*FI]*/
r28toposort(C);
}
/*FI]*/
}

void r28delete_edge(T28* C,T0* a1){
T2 _i=0;
_i=r65fast_index_of((T65*)((/*RF2*/(C)->_connection_list/*21*/)),a1);
r65remove((T65*)((/*RF2*/(C)->_connection_list/*21*/)),_i);
/*SSPRF3*//*X30remove_inedge*//*[IRF3.6remove_inedge*/{T67* C1=(T67*)((/*RF2*/(((T64*)a1))->_dst/*4*/));
T0* b1=a1;
r65remove((T65*)((/*RF2*/(C1)->_in_connection/*8*/)),r65fast_index_of((T65*)((/*RF2*/(C1)->_in_connection/*8*/)),b1));
}/*]*/
r28toposort(C);
}

void r28unvisit_all_machines(T28* C){
T0* _it=NULL;
_it=r39get_new_iterator((T39*)((/*RF2*/(C)->_machine_list/*13*/)));
r88start(((T88*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T88*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
/*SSPRF3*//*X30clear_visited*//*[IRF3.3clear_visited*/((((T67*)((T67*)(/*(IRF4.6item*/(/*RF2*/(((T41*)((/*RF2*/(((T88*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))))->_visited/*60*/)=(0);
/*]*/
r88next(((T88*)_it));
}
}

T0* r28new_machine(T28* C,T0* a1,T0* a2){
T0* R=NULL;
T0* _m=NULL;
_m=r43at((T43*)(r28machine_class_table()),a2);
R=r28add_machine(C,_m,a1);
return R;
}

void r28rewind(T28* C){
T0* _it=NULL;
(/*SFN*/C->_beat_count/*33*/)=0;
_it=r81get_new_iterator((T81*)((/*RF2*/(C)->_tracks/*25*/)));
r114start(((T114*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T114*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
r80rewind((T80*)(/*(IRF4.6item*/(/*RF2*/(((T82*)((/*RF2*/(((T114*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/));
r114next(((T114*)_it));
}
r28setup_machines(C);
}

void r28add_track(T28* C,T0* a1){
T0* _t=NULL;
{T80*n=new80();
r80make(n,a1);
_t=((T0*)n);
}
r81add_last((T81*)((/*RF2*/(C)->_tracks/*25*/)),_t);
}

void r135put_event_count(T135* C,T2 a1){
(/*SFN*/C->_event_count/*16*/)=a1;
{T146*n=new146();
r146make(n,0,(/*RF2*/(C)->_event_count/*16*/));
(/*SFN*/C->_eventpos/*8*/)=((T0*)n);
}
{T146*n=new146();
r146make(n,0,(/*RF2*/(C)->_event_count/*16*/));
(/*SFN*/C->_event/*12*/)=((T0*)n);
}
}

T0* r135twin(T135* C){
T0* R=NULL;
R=((void*)new135());
*((T135*)R)=*C;
return R;
}

void r51boom(T51* C,T2 a1){
T0* _it=NULL;
/*[IF*/
if(r54has_row((T54*)((/*RF2*/(C)->_commands/*8*/)),a1)){
_it=r124get_new_iterator((T124*)(r54get_row((T54*)((/*RF2*/(C)->_commands/*8*/)),a1)));
r127start(((T127*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T127*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
X30process_command((/*RF2*/(C)->_machine/*12*/),/*(IRF4.6item*/(/*RF2*/(((T125*)((/*RF2*/(((T127*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/);
r127next(((T127*)_it));
}
}
/*FI]*/
}

void r51make(T51* C,T0* a1,T0* a2){
(/*SFN*/C->_machine/*12*/)=a2;
{T54*n=new54();
r54make(n);
(/*SFN*/C->_commands/*8*/)=((T0*)n);
}
r51put_name(C,a1);
}

void r51instant_execute(T51* C){
T0* _it=NULL;
T0* _it2=NULL;
_it=r107get_new_iterator((T107*)(r54get_sorted_row_list((T54*)((/*RF2*/(C)->_commands/*8*/)))));
X98start(_it);
while (!(X98is_off(_it)))
{
_it2=r107get_new_iterator((T107*)(r54get_sorted_col_list((T54*)((/*RF2*/(C)->_commands/*8*/)),X98item(_it))));
X98start(_it2);
while (!(X98is_off(_it2)))
{
X30process_command((/*RF2*/(C)->_machine/*12*/),r54at((T54*)((/*RF2*/(C)->_commands/*8*/)),X98item(_it),X98item(_it2)));
X98next(_it2);
}
X98next(_it);
}
}

T0* r51twin(T51* C){
T0* R=NULL;
R=((void*)new51());
*((T51*)R)=*C;
return R;
}

void r51put_name(T51* C,T0* a1){
{T7*n=new7();
r7copy(n,a1);
(/*SFN*/C->_name/*4*/)=((T0*)n);
}
}

T5 r206evaluate(T5 a1){
T5 R=0;
R=sin((a1)*(6.283185307));
return R;
}

T0* r206twin(T206* C){
T0* R=NULL;
R=((void*)new206());
*((T206*)R)=*C;
return R;
}

void r136make(T136* C,T2 a1,T2 a2,T2 a3,T2 a4){
(/*SFN*/C->_src/*4*/)=a1;
(/*SFN*/C->_dst/*8*/)=a2;
(/*SFN*/C->_amp/*12*/)=a3;
(/*SFN*/C->_pan/*16*/)=a4;
}

T0* r136twin(T136* C){
T0* R=NULL;
R=((void*)new136());
*((T136*)R)=*C;
return R;
}

void r183disconnect(T183* C){
basic_io_fclose((/*RF2*/(C)->_input_stream/*12*/));
(/*SFN*/C->_path/*4*/)=NULL;
}

void r183read_byte(T183* C){
(/*SFN*/C->_last_byte/*8*/)=basic_io_getc((/*RF2*/(C)->_input_stream/*12*/));
}

T6 r183end_of_input(T183* C){
T6 R=0;
R=((/*RF2*/(C)->_last_byte/*8*/))==(basic_io_eof);
return R;
}

void r183connect_to(T183* C,T0* a1){
(/*SFN*/C->_input_stream/*12*/)=basic_io_binary_file_read_open(r7to_external(((T7*)a1)));
/*[IF*/
if((NULL!=(/*RF2*/(C)->_input_stream/*12*/))){
(/*SFN*/C->_path/*4*/)=a1;
}
/*FI]*/
}

T0* r183twin(T183* C){
T0* R=NULL;
R=((void*)new183());
*((T183*)R)=*C;
return R;
}

T5 r208next_sample(T208* C){
T5 R=0;
r208next_t(C);
R=r206evaluate((/*RF2*/(C)->_t/*4*/));
return R;
}

T0* r208twin(T208* C){
T0* R=NULL;
R=((void*)new208());
*((T208*)R)=*C;
return R;
}

void r208next_t(T208* C){
(/*SFN*/C->_t/*4*/)=/*[ from line 37 of ./oscer.e:*/
fast_next((/*RF2*/(C)->_t/*4*/),(/*RF2*/(C)->_freq/*12*/))
/* from line 37 of ./oscer.e]*/
;
}

void r80boom(T80* C,T2 a1){
/*[IF*/
if(r56has((T56*)((/*RF2*/(C)->_commands/*8*/)),a1)){
(/*SFN*/C->_offset/*16*/)=a1;
r80process_command(C,r56at((T56*)((/*RF2*/(C)->_commands/*8*/)),a1));
}
/*FI]*/
/*[IF*/
if(((/*RF2*/(C)->_playing_pattern/*12*/))!=((void*)(NULL))){
r51boom((T51*)((/*RF2*/(C)->_playing_pattern/*12*/)),(a1)-((/*RF2*/(C)->_offset/*16*/)));
}
/*FI]*/
}

void r80make(T80* C,T0* a1){
(/*SFN*/C->_machine/*4*/)=a1;
{T56*n=new56();
/*[IRF3.4make*/r56with_capacity(n,193);
/*]*/
(/*SFN*/C->_commands/*8*/)=((T0*)n);
}
}

void r80process_command(T80* C,T0* a1){
/*[IF*/
if(r61has((T61*)(/*SSWARF2*//*X30pattern_table*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*4*/)))->_pattern_table/*12*/)),a1)){
(/*SFN*/C->_playing_pattern/*12*/)=r61at((T61*)(/*SSWARF2*//*X30pattern_table*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*4*/)))->_pattern_table/*12*/)),a1);
}
else{
(/*SFN*/C->_playing_pattern/*12*/)=NULL;
}
/*FI]*/
}

T0* r80twin(T80* C){
T0* R=NULL;
R=((void*)new80());
*((T80*)R)=*C;
return R;
}

void r80rewind(T80* C){
(/*SFN*/C->_offset/*16*/)=0;
(/*SFN*/C->_playing_pattern/*12*/)=NULL;
}

T0* r177twin(T177* C){
T0* R=NULL;
R=((void*)new177());
*((T177*)R)=*C;
return R;
}

T0* r75new_pattern_autoname(T75* C){
T0* R=NULL;
T2 _i=0;
while (!(!(r61has((T61*)((/*RF2*/(C)->_pattern_table/*12*/)),r2to_string(_i)))))
{
_i=(_i)+(1);
}
R=r75new_pattern(C,r2to_string(_i));
return R;
}

T0* r75blue(void){
if(fBC17blue==0){fBC17blue=1;{
{T50*n=new50();
oBC17blue=((T0*)n);
r50make(n,0,0,127);
}
}}
return oBC17blue;
}

void r75move_to(T75* C,T2 a1,T2 a2){
(/*SFN*/C->_posx/*28*/)=a1;
(/*SFN*/C->_posy/*24*/)=a2;
}

T2 r75centerx(T75* C){
T2 R=0;
R=((/*RF2*/(C)->_posx/*28*/))+(((/*RF2*/(C)->_width/*32*/))/(2));
return R;
}

T2 r75centery(T75* C){
T2 R=0;
R=((/*RF2*/(C)->_posy/*24*/))+(((/*RF2*/(C)->_height/*36*/))/(2));
return R;
}

T0* r75new_pattern(T75* C,T0* a1){
T0* R=NULL;
{T51*n=new51();
r51make(n,a1,(T0*)C);
R=((T0*)n);
}
r61put((T61*)((/*RF2*/(C)->_pattern_table/*12*/)),R,a1);
r59add_last((T59*)((/*RF2*/(C)->_pattern_list/*16*/)),R);
return R;
}

void r75boom(T75* C){
/*[IF*/
if(((/*RF2*/(C)->_ttl/*61*/))>(0)){
(/*SFN*/C->_ttl/*61*/)=((/*RF2*/(C)->_ttl/*61*/))-(1);
/*[IF*/
if(((/*RF2*/(C)->_ttl/*61*/))==(0)){
r200remove((T200*)((/*RF2*/(C)->_drum_table/*65*/)),((T0*)se_ms(4,"sine")));
}
/*FI]*/
}
/*FI]*/
}

T0* r75clone(T0* a1){
T0* R=NULL;
/*[IF*/
if((a1)!=((void*)(NULL))){
R=X10twin(a1);
}
/*FI]*/
return R;
}

T0* r75make_instance(T75* C,T0* a1){
T0* R=NULL;
R=r75clone((T0*)C);
r75put_name(((T75*)R),a1);
r75init_connection_lists(((T75*)R));
r75init_pattern_table(((T75*)R));
r75init_picture(((T75*)R));
r75init(((T75*)R));
return R;
}

void r75play_freq(T75* C,T5 a1){
T0* _o=NULL;
T0* _s=NULL;
{T206*n=new206();
/*[IRF3.1make*//*]*/
_s=((T0*)n);
}
{T208*n=new208();
/*[IRF3.3make*/((((T208*)(n)))->_periodicf/*20*/)=(_s);
/*]*/
_o=((T0*)n);
}
/*[IRF3.3put_freq*/((((T208*)(((T208*)_o))))->_freq/*12*/)=(a1);
/*]*/
(/*SFN*/C->_ttl/*61*/)=3;
r200put((T200*)((/*RF2*/(C)->_drum_table/*65*/)),_o,((T0*)se_ms(4,"sine")));
}

void r75snare_drum(T75* C){
T0* _n=NULL;
T0* _c=NULL;
T0* _rm=NULL;
{T212*n=new212();
r212make(n);
_n=((T0*)n);
}
r212put_freq(((T212*)_n),T2toT5(20000));
{T211*n=new211();
r211make(n,T4toT5(1.0),T4toT5(0.0));
_c=((T0*)n);
}
{T209*n=new209();
r209make(n,_n,_c);
_rm=((T0*)n);
}
r200put((T200*)((/*RF2*/(C)->_drum_table/*65*/)),_rm,((T0*)se_ms(5,"snare")));
}

T6 r75is_note(T0* a1,T2 a2){
T6 R=0;
T2 _j=0;
_j=a2;
/*[IF*/
if(((((unsigned)(/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/))>=((unsigned)(((T3)'A')))))&&((((unsigned)(/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/))<=((unsigned)(((T3)'G')))))){
_j=(_j)+(1);
/*[IF*/
if(((_j)<=(/*(IRF4.3upper*/(/*RF2*/(((T7*)a1))->_count/*8*/)/*)*/))&&((/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/)==(((T3)'\43')))){
_j=(_j)+(1);
}
/*FI]*/
/*[IF*/
if(((_j)<=(/*(IRF4.3upper*/(/*RF2*/(((T7*)a1))->_count/*8*/)/*)*/))&&(r3is_digit(/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/))){
R=1;
}
/*FI]*/
}
/*FI]*/
return R;
}

void r75process_command(T75* C,T0* a1){
r89put_string(r7_px_43((T7*)(r7_px_43(se_ms(10,"command = "),a1)),((T0*)se_ms(1,"\n"))));
/*[IF*/
if(r75is_note(a1,1)){
r89put_string(((T0*)se_ms(22,"command is noteworthy\n")));
r89put_string(r7_px_43((T7*)(r2to_string(r75note_to_rank(a1,1))),((T0*)se_ms(1,"\n"))));
r75play_freq(C,X118item(r75note_freq_table(),r75note_to_rank(a1,1)));
}
 else if(r7is_equal(((T7*)a1),((T0*)se_ms(2,"KD")))){
r75kick_drum(C);
}
 else if(r7is_equal(((T7*)a1),((T0*)se_ms(2,"SD")))){
r75snare_drum(C);
}
/*FI]*/
}

void r75kick_drum(T75* C){
T0* _s=NULL;
T0* _o=NULL;
T0* _c=NULL;
T0* _fm=NULL;
T0* _rm=NULL;
{T206*n=new206();
/*[IRF3.1make*//*]*/
_s=((T0*)n);
}
{T208*n=new208();
/*[IRF3.3make*/((((T208*)(n)))->_periodicf/*20*/)=(_s);
/*]*/
_o=((T0*)n);
}
{T210*n=new210();
/*[IRF3.1make*//*]*/
_fm=((T0*)n);
}
/*[IRF3.3put_input*/((((T210*)(((T210*)_fm))))->_input/*4*/)=(_o);
/*]*/
{T211*n=new211();
r211make(n,T4toT5(330.0),T4toT5(0.0));
_c=((T0*)n);
}
/*[IRF3.3put_modulator*/((((T210*)(((T210*)_fm))))->_modulator/*8*/)=(_c);
/*]*/
{T211*n=new211();
r211make(n,T4toT5(1.0),T4toT5(0.0));
_c=((T0*)n);
}
{T209*n=new209();
r209make(n,_fm,_c);
_rm=((T0*)n);
}
r200put((T200*)((/*RF2*/(C)->_drum_table/*65*/)),_rm,((T0*)se_ms(4,"kick")));
}

void r75init(T75* C){
{T200*n=new200();
/*[IRF3.4make*/r200with_capacity(n,193);
/*]*/
(/*SFN*/C->_drum_table/*65*/)=((T0*)n);
}
}

void r75init_connection_lists(T75* C){
{T65*n=new65();
r65make(n);
(/*SFN*/C->_in_connection/*8*/)=((T0*)n);
}
}

T0* r75note_rank_array(void){
if(fBC31note_rank_array==0){fBC31note_rank_array=1;{
oBC31note_rank_array=se_ma146(7,
0,
2,
4,
5,
7,
9,
11);
}}
return oBC31note_rank_array;
}

void r75init_pattern_table(T75* C){
{T61*n=new61();
/*[IRF3.4make*/r61with_capacity(n,193);
/*]*/
(/*SFN*/C->_pattern_table/*12*/)=((T0*)n);
}
{T59*n=new59();
r59make(n);
(/*SFN*/C->_pattern_list/*16*/)=((T0*)n);
}
{T51*n=new51();
r51make(n,((T0*)se_ms(5,"SETUP")),(T0*)C);
(/*SFN*/C->_setup_pattern/*20*/)=((T0*)n);
}
}

T0* r75next_pattern(T75* C,T0* a1){
T0* R=NULL;
T2 _i=0;
_i=(r59fast_index_of((T59*)((/*RF2*/(C)->_pattern_list/*16*/)),a1))+(1);
/*[IF*/
if((_i)>((/*RF2*/((T59*)((/*RF2*/(C)->_pattern_list/*16*/)))->_upper/*4*/))){
_i=1;
}
/*FI]*/
R=r59_px_64((T59*)((/*RF2*/(C)->_pattern_list/*16*/)),_i);
return R;
}

T0* r75twin(T75* C){
T0* R=NULL;
R=((void*)new75());
*((T75*)R)=*C;
return R;
}

T0* r75note_freq_table(void){
if(fBC31note_freq_table==0){fBC31note_freq_table=1;{
T2 _i=0;
{T118*n=new118();
oBC31note_freq_table=((T0*)n);
r118make(n,0,127);
}
_i=0;
while (!((_i)>(127)))
{
X118put(oBC31note_freq_table,(T4toT5(220.0))*(r4pow(2.0,((T5)((_i)-(57)))/(12))),_i);
_i=(_i)+(1);
}
}}
return oBC31note_freq_table;
}

T0* r75white(void){
if(fBC17white==0){fBC17white=1;{
{T50*n=new50();
oBC17white=((T0*)n);
r50make(n,255,255,255);
}
}}
return oBC17white;
}

T2 r75note_to_rank(T0* a1,T2 a2){
T2 R=0;
T2 _j=0;
_j=a2;
R=(T3code(/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/))-(T3code(((T3)'C')));
/*[IF*/
if((R)<(0)){
R=(R)+(7);
}
/*FI]*/
R=r146item((T146*)(r75note_rank_array()),(R)+(1));
_j=(_j)+(1);
/*[IF*/
if((/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/)==(((T3)'\43'))){
R=(R)+(1);
_j=(_j)+(1);
}
/*FI]*/
R=(R)+((12)*(r3value(/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/)));
return R;
}

T5 r75work(T75* C){
T5 R=0;
T0* _it=NULL;
_it=r200get_new_iterator_on_items((T200*)((/*RF2*/(C)->_drum_table/*65*/)));
/*[IRF3.3start*/((((T218*)(((T218*)_it))))->_item_index/*8*/)=(1);
/*]*/
while (!(r218is_off(((T218*)_it))))
{
R=(R)+(X199next_sample(r218item(((T218*)_it))));
r218next(((T218*)_it));
}
return R;
}

void r75compute_next_frame(T75* C){
T0* _it=NULL;
/*[IF*/
if(!((/*RF2*/(C)->_visited/*60*/))){
(/*SFN*/C->_mix_input/*44*/)=T2toT5(0);
_it=r65get_new_iterator((T65*)((/*RF2*/(C)->_in_connection/*8*/)));
r122start(((T122*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T122*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
X30compute_next_frame((/*RF2*/((T64*)(/*(IRF4.6item*/(/*RF2*/(((T66*)((/*RF2*/(((T122*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_src/*8*/));
(/*SFN*/C->_mix_input/*44*/)=((/*RF2*/(C)->_mix_input/*44*/))+((1.0)*(/*SSWARF2*//*X30last_frame*/(/*RF2*/((T67*)((/*RF2*/((T64*)(/*(IRF4.6item*/(/*RF2*/(((T66*)((/*RF2*/(((T122*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_src/*8*/)))->_last_frame/*52*/)));
r122next(((T122*)_it));
}
(/*SFN*/C->_last_frame/*52*/)=r75work(C);
(/*SFN*/C->_visited/*60*/)=1;
}
/*FI]*/
}

void r75put_name(T75* C,T0* a1){
{T7*n=new7();
r7copy(n,a1);
(/*SFN*/C->_name/*4*/)=((T0*)n);
}
}

void r75init_picture(T75* C){
(/*SFN*/C->_posx/*28*/)=0;
(/*SFN*/C->_posy/*24*/)=0;
(/*SFN*/C->_width/*32*/)=70;
(/*SFN*/C->_height/*36*/)=25;
{T48*n=new48();
/*[IRF3.1make*//*]*/
(/*SFN*/C->_image/*40*/)=((T0*)n);
}
r48new((T48*)((/*RF2*/(C)->_image/*40*/)),(/*RF2*/(C)->_width/*32*/),(/*RF2*/(C)->_height/*36*/));
/*[IRF3.6box*/{T48* C1=(T48*)((/*RF2*/(C)->_image/*40*/));
T2 b1=0;
T2 b2=0;
T2 b3=((/*RF2*/(C)->_width/*32*/))-(1);
T2 b4=((/*RF2*/(C)->_height/*36*/))-(1);
T0* b5=r75white();
/*[ from line 177 of ./image.e:*/
ext_box((/*RF2*/(C1)->_ptr/*5*/),b1,b2,b3,b4,(/*RF2*/(((T50*)b5))->_to_gfx_integer/*8*/));
/* from line 177 of ./image.e]*/
}/*]*/
/*[IRF3.6box*/{T48* C1=(T48*)((/*RF2*/(C)->_image/*40*/));
T2 b1=2;
T2 b2=2;
T2 b3=((/*RF2*/(C)->_width/*32*/))-(3);
T2 b4=((/*RF2*/(C)->_height/*36*/))-(3);
T0* b5=/*(IRF4.8bgcolor*/r75blue()/*)*/;
/*[ from line 177 of ./image.e:*/
ext_box((/*RF2*/(C1)->_ptr/*5*/),b1,b2,b3,b4,(/*RF2*/(((T50*)b5))->_to_gfx_integer/*8*/));
/* from line 177 of ./image.e]*/
}/*]*/
/*[IRF3.5put_heading*/r48draw_text(((T48*)((/*RF2*/(C)->_image/*40*/))),4,6,(/*RF2*/(C)->_name/*4*/));
/*]*/
}

T0* r23twin(T23* C){
T0* R=NULL;
R=((void*)new23());
*((T23*)R)=*C;
return R;
}

T2 r47prime_number_ceiling(T2 a1){
T2 R=0;
/*[IF*/
if((a1)<=(53)){
R=53;
}
 else if((a1)<=(97)){
R=97;
}
 else if((a1)<=(193)){
R=193;
}
 else if((a1)<=(389)){
R=389;
}
 else if((a1)<=(769)){
R=769;
}
 else if((a1)<=(1543)){
R=1543;
}
 else if((a1)<=(3079)){
R=3079;
}
 else if((a1)<=(6151)){
R=6151;
}
 else if((a1)<=(12289)){
R=12289;
}
 else if((a1)<=(24593)){
R=24593;
}
 else if((a1)<=(49157)){
R=49157;
}
 else if((a1)<=(98317)){
R=98317;
}
 else if((a1)<=(196613)){
R=196613;
}
 else if((a1)<=(393241)){
R=393241;
}
 else if((a1)<=(786433)){
R=786433;
}
 else if((a1)<=(1572869)){
R=1572869;
}
 else if((a1)<=(3145739)){
R=3145739;
}
 else if((a1)<=(6291469)){
R=6291469;
}
 else if((a1)<=(12582917)){
R=12582917;
}
 else if((a1)<=(25165843)){
R=25165843;
}
 else if((a1)<=(50331653)){
R=50331653;
}
 else if((a1)<=(100663319)){
R=100663319;
}
 else if((a1)<=(201326611)){
R=201326611;
}
 else if((a1)<=(402653189)){
R=402653189;
}
 else if((a1)<=(805306457)){
R=805306457;
}
else{
R=1610612741;
}
/*FI]*/
return R;
}

T6 r16poll_event(T16* C){
T6 R=0;
R=/*[ from line 241 of ./bliss.e:*/
ext_poll_event()
/* from line 241 of ./bliss.e]*/
;
/*[IF*/
if(R){
r22update((T22*)((/*RF2*/(C)->_last_event/*40*/)));
}
/*FI]*/
return R;
}

void r16main_loop(T16* C){
while (!(0))
{
r16draw_screen(C);
/*[ from line 249 of ./bliss.e:*/
ext_update_screen();
/* from line 249 of ./bliss.e]*/
/*[ from line 229 of ./bliss.e:*/
SDL_LockAudio();
/* from line 229 of ./bliss.e]*/
r16buffer_audio(C);
/*[ from line 233 of ./bliss.e:*/
SDL_UnlockAudio();
/* from line 233 of ./bliss.e]*/
/*[IF*/
if(r16poll_event(C)){
r16process_last_event(C);
}
/*FI]*/
}
}

T0* r16song(void){
if(fBC19song==0){fBC19song=1;{
{T28*n=new28();
oBC19song=((T0*)n);
r28make(n);
}
}}
return oBC19song;
}

void r16draw_screen(T16* C){
/*[IRF3.2blank_screen*//*[IRF3.6fill_rect*/{T2 b1=0;
T2 b2=0;
T2 b3=640;
T2 b4=480;
T0* b5=r16black();
/*[ from line 269 of ./bliss.e:*/
ext_fill_rect(b1,b2,b3,b4,(/*RF2*/(((T50*)b5))->_to_integer/*4*/));
/* from line 269 of ./bliss.e]*/
}/*]*/
/*]*/
r16vis_draw(C);
X27update((/*RF2*/(C)->_current_window/*44*/));
/*[IF*/
if(((/*RF2*/(C)->_modal/*20*/))!=((void*)(NULL))){
X27update((/*RF2*/(C)->_modal/*20*/));
}
/*FI]*/
}

void r16load_buzz_dialog(T16* C){
(/*SFN*/C->_modal/*20*/)=(/*RF2*/(C)->_import_buzz_window/*16*/);
}

void r16end_program(T16* C){
/*[ from line 237 of ./bliss.e:*/
SDL_PauseAudio(1);
/* from line 237 of ./bliss.e]*/
exit(0);
}

void r16make(T16* C){
(/*SFN*/C->_vis_upper/*32*/)=256;
{T118*n=new118();
r118make(n,1,(/*RF2*/(C)->_vis_upper/*32*/));
(/*SFN*/C->_vis/*28*/)=((T0*)n);
}
{T118*n=new118();
r118make(n,1,(/*RF2*/(C)->_vis_upper/*32*/));
(/*SFN*/C->_vis_snap/*24*/)=((T0*)n);
}
(/*SFN*/C->_vis_i/*36*/)=1;
/*[ from line 217 of ./bliss.e:*/
init();
/* from line 217 of ./bliss.e]*/
{T22*n=new22();
/*[IRF3.1make*//*]*/
(/*SFN*/C->_last_event/*40*/)=((T0*)n);
}
r28put_bpm_tpb((T28*)(r16song()),150,4);
{T95*n=new95();
/*[IRF3.6make*/{T95* C1=n;
T2 b1=1;
T2 b2=21;
T2 b3=638;
T2 b4=438;
r95put_geometry(C1,b1,b2,b3,b4);
}/*]*/
(/*SFN*/C->_machine_window/*8*/)=((T0*)n);
}
{T94*n=new94();
r94make(n,1,21,638,438);
(/*SFN*/C->_pattern_window/*4*/)=((T0*)n);
}
{T96*n=new96();
r96make(n,1,21,638,438);
(/*SFN*/C->_song_window/*12*/)=((T0*)n);
}
{T93*n=new93();
r93make(n,(T0*)C);
(/*SFN*/C->_import_buzz_window/*16*/)=((T0*)n);
}
r94put_machine((T94*)((/*RF2*/(C)->_pattern_window/*4*/)),(/*RF2*/((T28*)(r16song()))->_master/*4*/));
(/*SFN*/C->_current_window/*44*/)=(/*RF2*/(C)->_machine_window/*8*/);
/*[ from line 237 of ./bliss.e:*/
SDL_PauseAudio(0);
/* from line 237 of ./bliss.e]*/
r16main_loop(C);
}

void r16vis_draw(T16* C){
T2 _i=0;
T2 _x=0;
T2 _y=0;
_i=1;
while (!((_i)>((/*RF2*/(C)->_vis_upper/*32*/))))
{
_y=(100)-(r5rounded((X118item((/*RF2*/(C)->_vis_snap/*24*/),_i))*(T2toT5(50))));
_x=(_i)+(100);
/*[IRF3.6pixelcolor*/{T2 b1=_x;
T2 b2=_y;
T0* b3=r16white();
/*[ from line 278 of ./bliss.e:*/
ext_pixelcolor(b1,b2,(/*RF2*/(((T50*)b3))->_to_gfx_integer/*8*/));
/* from line 278 of ./bliss.e]*/
}/*]*/
_i=(_i)+(1);
}
}

void r16buffer_audio(T16* C){
T5 _d=0;
while (!(!(/*[ from line 225 of ./bliss.e:*/
buffer_ready()
/* from line 225 of ./bliss.e]*/
)))
{
_d=r28next_sample((T28*)(r16song()));
/*[IF*/
if(((/*RF2*/(C)->_vis_i/*36*/))>((/*RF2*/(C)->_vis_upper/*32*/))){
(/*SFN*/C->_vis_i/*36*/)=1;
while (!(((/*RF2*/(C)->_vis_i/*36*/))>((/*RF2*/(C)->_vis_upper/*32*/))))
{
X118put((/*RF2*/(C)->_vis_snap/*24*/),X118_px_64((/*RF2*/(C)->_vis/*28*/),(/*RF2*/(C)->_vis_i/*36*/)),(/*RF2*/(C)->_vis_i/*36*/));
(/*SFN*/C->_vis_i/*36*/)=((/*RF2*/(C)->_vis_i/*36*/))+(1);
}
(/*SFN*/C->_vis_i/*36*/)=1;
}
/*FI]*/
X118put((/*RF2*/(C)->_vis/*28*/),_d,(/*RF2*/(C)->_vis_i/*36*/));
(/*SFN*/C->_vis_i/*36*/)=((/*RF2*/(C)->_vis_i/*36*/))+(1);
/*[ from line 221 of ./bliss.e:*/
next_frame(_d,_d);
/* from line 221 of ./bliss.e]*/
}
}
T0*oBC16test_saver=NULL;
int fBC16test_saver=0;

T0* r16test_saver(void){
if(fBC16test_saver==0){fBC16test_saver=1;{
{T83*n=new83();
oBC16test_saver=((T0*)n);
/*[IRF3.3make*/((((T83*)(n)))->_os/*4*/)=(oBC1io);
/*]*/
}
}}
return oBC16test_saver;
}

T0* r16twin(T16* C){
T0* R=NULL;
R=((void*)new16());
*((T16*)R)=*C;
return R;
}

T0* r16white(void){
if(fBC17white==0){fBC17white=1;{
{T50*n=new50();
oBC17white=((T0*)n);
r50make(n,255,255,255);
}
}}
return oBC17white;
}

void r16process_last_event(T16* C){
r89put_string(r7_px_43((T7*)(r2to_string((/*RF2*/((T22*)((/*RF2*/(C)->_last_event/*40*/)))->_type/*12*/))),((T0*)se_ms(2,": "))));
r89put_integer((/*RF2*/((T22*)((/*RF2*/(C)->_last_event/*40*/)))->_i1/*20*/));
/*[IRF3.2put_new_line*//*[IRF3.6put_character*/{T3 b1=((T3)'\n');
basic_io_putc(b1,basic_io_stdout);
}/*]*/
/*]*/
/*[IF*/
if(((/*RF2*/(C)->_modal/*20*/))!=((void*)(NULL))){
X27handle_event((/*RF2*/(C)->_modal/*20*/),(/*RF2*/(C)->_last_event/*40*/));
}
else{
/*[IF*/
if(((/*RF2*/((T22*)((/*RF2*/(C)->_last_event/*40*/)))->_type/*12*/))==(2)){
/*[IF*/
if(/*[ from line 272 of ./sdl_constant.e:*/
is_kmod((/*RF2*/((T22*)((/*RF2*/(C)->_last_event/*40*/)))->_kmod/*24*/),192)
/* from line 272 of ./sdl_constant.e]*/
){
/*[INSPECT*/
{int z1=(/*RF2*/((T22*)((/*RF2*/(C)->_last_event/*40*/)))->_i1/*20*/);
switch(z1){
case 115:
r28save((T28*)(r16song()),r16test_saver());
break;
case 108:
r16load_buzz_dialog(C);
break;
case 110:
r28make((T28*)(r16song()));
break;
default:;
X27handle_event((/*RF2*/(C)->_current_window/*44*/),(/*RF2*/(C)->_last_event/*40*/));
}
}/*INSPECT]*/
}
else{
/*[INSPECT*/
{int z1=(/*RF2*/((T22*)((/*RF2*/(C)->_last_event/*40*/)))->_i1/*20*/);
switch(z1){
case 283:
(/*SFN*/C->_current_window/*44*/)=(/*RF2*/(C)->_pattern_window/*4*/);
break;
case 284:
(/*SFN*/C->_current_window/*44*/)=(/*RF2*/(C)->_machine_window/*8*/);
break;
case 285:
(/*SFN*/C->_current_window/*44*/)=(/*RF2*/(C)->_song_window/*12*/);
break;
case 27:
r16end_program(C);
break;
case 286:
/*[IRF3.3play*/((((T28*)((T28*)(r16song()))))->_play_flag/*8*/)=(1);
/*]*/
break;
case 287:
r28rewind((T28*)(r16song()));
break;
case 289:
/*[IRF3.3pause*/((((T28*)((T28*)(r16song()))))->_play_flag/*8*/)=(0);
/*]*/
break;
default:;
X27handle_event((/*RF2*/(C)->_current_window/*44*/),(/*RF2*/(C)->_last_event/*40*/));
}
}/*INSPECT]*/
}
/*FI]*/
}
else{
X27handle_event((/*RF2*/(C)->_current_window/*44*/),(/*RF2*/(C)->_last_event/*40*/));
}
/*FI]*/
}
/*FI]*/
}

T0* r16black(void){
if(fBC17black==0){fBC17black=1;{
{T50*n=new50();
oBC17black=((T0*)n);
r50make(n,0,0,0);
}
}}
return oBC17black;
}
T16*eiffel_root_object=NULL;
int se_argc;
char**se_argv;

void initialize_eiffel_runtime(int argc,char*argv[]){
se_argc=argc;
se_argv=argv;
gcmt=((mch**)se_malloc((gcmt_max+1)*sizeof(void*)));
stack_bottom=((void**)(&argc));
#ifdef SIGINT
signal(SIGINT,se_signal_handler);
#endif
#ifdef SIGQUIT
signal(SIGQUIT,se_signal_handler);
#endif
#ifdef SIGTERM
signal(SIGTERM,se_signal_handler);
#endif
#ifdef SIGBREAK
signal(SIGBREAK,se_signal_handler);
#endif
#ifdef SIGKILL
signal(SIGKILL,se_signal_handler);
#endif
se_msi1();
/*PCO*/
oBC31scale_array=se_ma195(12,
((T0*)se_ms(1,"C")),
((T0*)se_ms(2,"C#")),
((T0*)se_ms(1,"D")),
((T0*)se_ms(2,"D#")),
((T0*)se_ms(1,"E")),
((T0*)se_ms(1,"F")),
((T0*)se_ms(2,"F#")),
((T0*)se_ms(1,"G")),
((T0*)se_ms(2,"G#")),
((T0*)se_ms(1,"A")),
((T0*)se_ms(2,"A#")),
((T0*)se_ms(1,"B")));
/*PCO*/
{T7*n=new7();
oBC8string_buffer=((T0*)n);
r7make(n,64);
}
/*PCO*/
{T89*n=new89();
oBC1io=((T0*)n);
/*[IRF3.1make*//*]*/
}
/*PCO*/
{T7*n=new7();
oBC86tmp_string=((T0*)n);
r7make(n,512);
}
/*PCO*/
{T7*n=new7();
oBC2tmp_string=((T0*)n);
r7make(n,128);
}
/*PCO*/
gc_is_off=0;
eiffel_root_object=((T16*)se_malloc(sizeof(double)+sizeof(*eiffel_root_object)));
*eiffel_root_object=M16;
}
int main(int argc,char*argv[]){
initialize_eiffel_runtime(argc,argv);
{T16*n=eiffel_root_object;
r16make(n);
}
exit(0);
return 0;}
T7*ms172_529023852;
T7*ms165_1761360889;
T7*ms173_13464;
T7*ms67_13464;
T7*ms173_1658719074;
T7*ms176_296345362;
T7*ms168_1658670231;
T7*ms75_265794;
T7*ms169_1043126849;
T7*ms171_296581587;
T7*ms177_1658706155;
T7*ms71_33463794;
T7*ms161_2425;
T7*ms175_1386254719;
T7*ms170_2425;
T7*ms175_1327181;
T7*ms179_1325625;
T7*ms172_2425;
T7*ms167_2425;
T7*ms174_2425;
T7*ms178_2425;
T7*ms165_13464;
T7*ms69_1327181;
T7*ms74_1325625;
T7*ms178_581741755;
T7*ms169_13464;
T7*ms176_33463794;
T7*ms73_319144;
T7*ms171_2425;
T7*ms166_2425;
T7*ms179_1658653172;
T7*ms168_2425;
T7*ms72_2425;
T7*ms177_2425;
T7*ms161_1065849555;
T7*ms166_1058194184;
T7*ms170_616173747;
T7*ms167_502183218;
T7*ms174_1578465704;

T7*se_ms(int c,char*e){
/* Allocate a Manifest STRING.*/
T7*s=((T7*)se_malloc(sizeof(gc7)));
((gc7*)s)->header.flag=FSOH_MARKED;
s->id=7;
s->_count=c;
s->_capacity=c+1;
s->_storage=((T9)new9(c+1));
memcpy(s->_storage,e,c+1);
return s;}

T7*se_string(char*e){
/* Allocate an Eiffel STRING by copying C char*e */
int c=strlen(e);
T7*s=new7();
s->_count=c;
s->_capacity=c+1;
s->_storage=((T9)new9(c+1));
memcpy(s->_storage,e,c+1);
return s;}

void se_msi1(void){
ms172_529023852=se_ms(19,"Jeskola Wave Shaper");
ms165_1761360889=se_ms(17,"Geonik\'s PrimiFun");
ms173_13464=se_ms(4,"ZERO");
ms67_13464=se_ms(4,"ZERO");
ms173_1658719074=se_ms(14,"Jeskola Trilok");
ms176_296345362=se_ms(15,"Jeskola Tracker");
ms168_1658670231=se_ms(14,"Jeskola Filter");
ms75_265794=se_ms(6,"BLDrum");
ms169_1043126849=se_ms(23,"Jeskola Noise Generator");
ms171_296581587=se_ms(15,"Jeskola Flanger");
ms177_1658706155=se_ms(14,"Jeskola Reverb");
ms71_33463794=se_ms(9,"BLTracker");
ms161_2425=se_ms(3,"NOP");
ms175_1386254719=se_ms(13,"Jeskola Delay");
ms170_2425=se_ms(3,"NOP");
ms175_1327181=se_ms(7,"BLDelay");
ms179_1325625=se_ms(7,"BLBass2");
ms172_2425=se_ms(3,"NOP");
ms167_2425=se_ms(3,"NOP");
ms174_2425=se_ms(3,"NOP");
ms178_2425=se_ms(3,"NOP");
ms165_13464=se_ms(4,"ZERO");
ms69_1327181=se_ms(7,"BLDelay");
ms74_1325625=se_ms(7,"BLBass2");
ms178_581741755=se_ms(12,"Jeskola EQ-3");
ms169_13464=se_ms(4,"ZERO");
ms176_33463794=se_ms(9,"BLTracker");
ms73_319144=se_ms(6,"Master");
ms171_2425=se_ms(3,"NOP");
ms166_2425=se_ms(3,"NOP");
ms179_1658653172=se_ms(14,"Jeskola Bass 2");
ms168_2425=se_ms(3,"NOP");
ms72_2425=se_ms(3,"NOP");
ms177_2425=se_ms(3,"NOP");
ms161_1065849555=se_ms(19,"Geonik\'s Expression");
ms166_1058194184=se_ms(19,"Geonik\'s Compressor");
ms170_616173747=se_ms(19,"Jeskola NiNjA dElaY");
ms167_502183218=se_ms(21,"Jeskola Stereo Reverb");
ms174_1578465704=se_ms(18,"Jeskola Distortion");
}

void manifest_string_mark1(void){
((rsoh*)(ms172_529023852->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms165_1761360889->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms173_13464->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms67_13464->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms173_1658719074->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms176_296345362->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms168_1658670231->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_265794->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms169_1043126849->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms171_296581587->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms177_1658706155->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms71_33463794->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms161_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms175_1386254719->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms170_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms175_1327181->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms179_1325625->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms172_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms167_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms174_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms178_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms165_13464->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms69_1327181->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms74_1325625->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms178_581741755->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms169_13464->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms176_33463794->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms73_319144->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms171_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms166_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms179_1658653172->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms168_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms72_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms177_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms161_1065849555->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms166_1058194184->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms170_616173747->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms167_502183218->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms174_1578465704->_storage)-1)->header.magic_flag=RSOH_MARKED;
}

void once_function_mark(void){
if(NULL!=oBC31scale_array)gc_mark195((T195*)(oBC31scale_array));
if(NULL!=oBC133hex255table)gc_mark195((T195*)(oBC133hex255table));
if(NULL!=oBC74fade_table)Xgc_mark118((T0*)(oBC74fade_table));
if(NULL!=oBC19song)gc_mark28((T28*)(oBC19song));
if(NULL!=oBC8string_buffer)gc_mark7((T7*)(oBC8string_buffer));
if(NULL!=oBC1io)gc_mark89((T89*)(oBC1io));
if(NULL!=oBC31note_rank_array)gc_mark146((T146*)(oBC31note_rank_array));
if(NULL!=oBC31note_freq_table)Xgc_mark118((T0*)(oBC31note_freq_table));
if(NULL!=oBC17white)gc_mark50((T50*)(oBC17white));
if(NULL!=oBC17blue)gc_mark50((T50*)(oBC17blue));
if(NULL!=oBC74saw_table)Xgc_mark118((T0*)(oBC74saw_table));
if(NULL!=oBC17red)gc_mark50((T50*)(oBC17red));
if(NULL!=oBC17green)gc_mark50((T50*)(oBC17green));
if(NULL!=oBC95arrow_image)gc_mark48((T48*)(oBC95arrow_image));
if(NULL!=oBC17black)gc_mark50((T50*)(oBC17black));
if(NULL!=oBC132conv_table)gc_mark162((T162*)(oBC132conv_table));
if(NULL!=oBC5sprintf_buffer)gc_mark9((oBC5sprintf_buffer));
if(NULL!=oBC86tmp_string)gc_mark7((T7*)(oBC86tmp_string));
if(NULL!=oBC16test_saver)gc_mark83((T83*)(oBC16test_saver));
if(NULL!=oBC2tmp_string)gc_mark7((T7*)(oBC2tmp_string));
if(NULL!=oBC29machine_class_table)gc_mark43((T43*)(oBC29machine_class_table));
}
/*
-- This file is  free  software, which  comes  along  with  SmallEiffel. This
-- software  is  distributed  in the hope that it will be useful, but WITHOUT
-- ANY  WARRANTY;  without  even  the  implied warranty of MERCHANTABILITY or
-- FITNESS  FOR A PARTICULAR PURPOSE. You can modify it as you want, provided
-- this header is kept unaltered, and a notification of the changes is added.
-- You  are  allowed  to  redistribute  it and sell it, alone or as a part of
-- another product.
--       Copyright (C) 1994-2002 LORIA - INRIA - U.H.P. Nancy 1 - FRANCE
--          Dominique COLNET and Suzanne COLLIN - SmallEiffel@loria.fr
--                       http://www.loria.fr/SmallEiffel
--
*/
/*
   Stack and Registers traversal for PC Linux with gcc.
   Addresses decrease as the stack grows.
   Registers are saved using SETJMP().
   A little correction of the non-accurate `stack_bottom' seams to
   be necessary here.
*/

void mark_stack_and_registers (void) {
  void** max = stack_bottom + 10; /* stack_bottom correction here. */
  void** stack_pointer;
  jmp_buf registers;

  (void)setjmp(registers);
  stack_pointer = ((void**)(&registers));
  while (stack_pointer < max) {
    gc_mark(*(stack_pointer++));
  }
}

void gc_start(void){
if(gc_is_off)return;
if(garbage_delayed())return;
gcmt_tail_addr=(((char*)(gcmt[gcmt_used-1]))+(gcmt[gcmt_used-1])->size);
((gc16*)eiffel_root_object)->header.flag=FSOH_UNMARKED;
gc_free89=NULL;
gc_free96=NULL;
gc_free167=NULL;
gc_free161=NULL;
gc_free165=NULL;
if(na_env160.store_left>0){
na_env160.store->header.size=na_env160.store_left;
na_env160.store->header.magic_flag=RSOH_FREE;
na_env160.store_left=0;
}
na_env160.chunk_list=NULL;
na_env160.store_chunk=NULL;
gc_free218=NULL;
gc_free74=NULL;
gc_free205=NULL;
gc_free184=NULL;
gc_free175=NULL;
if(na_env152.store_left>0){
na_env152.store->header.size=na_env152.store_left;
na_env152.store->header.magic_flag=RSOH_FREE;
na_env152.store_left=0;
}
na_env152.chunk_list=NULL;
na_env152.store_chunk=NULL;
gc_free172=NULL;
gc_free189=NULL;
gc_free134=NULL;
gc_free174=NULL;
gc_free146=NULL;
if(na_env227.store_left>0){
na_env227.store->header.size=na_env227.store_left;
na_env227.store->header.magic_flag=RSOH_FREE;
na_env227.store_left=0;
}
na_env227.chunk_list=NULL;
na_env227.store_chunk=NULL;
if(na_env164.store_left>0){
na_env164.store->header.size=na_env164.store_left;
na_env164.store->header.magic_flag=RSOH_FREE;
na_env164.store_left=0;
}
na_env164.chunk_list=NULL;
na_env164.store_chunk=NULL;
gc_free138=NULL;
if(na_env142.store_left>0){
na_env142.store->header.size=na_env142.store_left;
na_env142.store->header.magic_flag=RSOH_FREE;
na_env142.store_left=0;
}
na_env142.chunk_list=NULL;
na_env142.store_chunk=NULL;
gc_free131=NULL;
gc_free114=NULL;
gc_free71=NULL;
gc_free212=NULL;
gc_free171=NULL;
if(na_env229.store_left>0){
na_env229.store->header.size=na_env229.store_left;
na_env229.store->header.magic_flag=RSOH_FREE;
na_env229.store_left=0;
}
na_env229.chunk_list=NULL;
na_env229.store_chunk=NULL;
gc_free140=NULL;
gc_free23=NULL;
gc_free43=NULL;
gc_free59=NULL;
gc_free61=NULL;
gc_free125=NULL;
gc_free163=NULL;
gc_free178=NULL;
gc_free99=NULL;
gc_free81=NULL;
gc_free137=NULL;
gc_free93=NULL;
gc_free170=NULL;
gc_free180=NULL;
gc_free166=NULL;
gc_free48=NULL;
gc_free185=NULL;
gc_free72=NULL;
if(na_env182.store_left>0){
na_env182.store->header.size=na_env182.store_left;
na_env182.store->header.magic_flag=RSOH_FREE;
na_env182.store_left=0;
}
na_env182.chunk_list=NULL;
na_env182.store_chunk=NULL;
gc_free213=NULL;
gc_free50=NULL;
if(na_env119.store_left>0){
na_env119.store->header.size=na_env119.store_left;
na_env119.store->header.magic_flag=RSOH_FREE;
na_env119.store_left=0;
}
na_env119.chunk_list=NULL;
na_env119.store_chunk=NULL;
gc_free82=NULL;
if(na_env155.store_left>0){
na_env155.store->header.size=na_env155.store_left;
na_env155.store->header.magic_flag=RSOH_FREE;
na_env155.store_left=0;
}
na_env155.chunk_list=NULL;
na_env155.store_chunk=NULL;
if(na_env58.store_left>0){
na_env58.store->header.size=na_env58.store_left;
na_env58.store->header.magic_flag=RSOH_FREE;
na_env58.store_left=0;
}
na_env58.chunk_list=NULL;
na_env58.store_chunk=NULL;
gc_free66=NULL;
gc_free149=NULL;
gc_free73=NULL;
if(na_env204.store_left>0){
na_env204.store->header.size=na_env204.store_left;
na_env204.store->header.magic_flag=RSOH_FREE;
na_env204.store_left=0;
}
na_env204.chunk_list=NULL;
na_env204.store_chunk=NULL;
gc_free122=NULL;
gc_free129=NULL;
gc_free176=NULL;
gc_free162=NULL;
gc_free124=NULL;
gc_free77=NULL;
gc_free64=NULL;
if(na_env100.store_left>0){
na_env100.store->header.size=na_env100.store_left;
na_env100.store->header.magic_flag=RSOH_FREE;
na_env100.store_left=0;
}
na_env100.chunk_list=NULL;
na_env100.store_chunk=NULL;
if(na_env145.store_left>0){
na_env145.store->header.size=na_env145.store_left;
na_env145.store->header.magic_flag=RSOH_FREE;
na_env145.store_left=0;
}
na_env145.chunk_list=NULL;
na_env145.store_chunk=NULL;
gc_free153=NULL;
if(na_env194.store_left>0){
na_env194.store->header.size=na_env194.store_left;
na_env194.store->header.magic_flag=RSOH_FREE;
na_env194.store_left=0;
}
na_env194.chunk_list=NULL;
na_env194.store_chunk=NULL;
if(na_env187.store_left>0){
na_env187.store->header.size=na_env187.store_left;
na_env187.store->header.magic_flag=RSOH_FREE;
na_env187.store_left=0;
}
na_env187.chunk_list=NULL;
na_env187.store_chunk=NULL;
if(na_env79.store_left>0){
na_env79.store->header.size=na_env79.store_left;
na_env79.store->header.magic_flag=RSOH_FREE;
na_env79.store_left=0;
}
na_env79.chunk_list=NULL;
na_env79.store_chunk=NULL;
gc_free169=NULL;
gc_free197=NULL;
gc_free41=NULL;
gc_free111=NULL;
gc_free69=NULL;
gc_free211=NULL;
gc_free55=NULL;
gc_free109=NULL;
gc_free57=NULL;
gc_free65=NULL;
gc_free179=NULL;
gc_free210=NULL;
gc_free139=NULL;
gc_free67=NULL;
if(na_env190.store_left>0){
na_env190.store->header.size=na_env190.store_left;
na_env190.store->header.magic_flag=RSOH_FREE;
na_env190.store_left=0;
}
na_env190.chunk_list=NULL;
na_env190.store_chunk=NULL;
gc_free7=NULL;
gc_free168=NULL;
gc_free54=NULL;
gc_free56=NULL;
gc_free130=NULL;
gc_free83=NULL;
gc_free200=NULL;
gc_free158=NULL;
if(na_env9.store_left>0){
na_env9.store->header.size=na_env9.store_left;
na_env9.store->header.magic_flag=RSOH_FREE;
na_env9.store_left=0;
}
na_env9.chunk_list=NULL;
na_env9.store_chunk=NULL;
gc_free201=NULL;
gc_free209=NULL;
gc_free95=NULL;
gc_free45=NULL;
gc_free78=NULL;
if(na_env63.store_left>0){
na_env63.store->header.size=na_env63.store_left;
na_env63.store->header.magic_flag=RSOH_FREE;
na_env63.store_left=0;
}
na_env63.chunk_list=NULL;
na_env63.store_chunk=NULL;
gc_free16=NULL;
gc_free203=NULL;
gc_free94=NULL;
gc_free76=NULL;
gc_free173=NULL;
gc_free22=NULL;
gc_free143=NULL;
gc_free150=NULL;
gc_free28=NULL;
if(na_env202.store_left>0){
na_env202.store->header.size=na_env202.store_left;
na_env202.store->header.magic_flag=RSOH_FREE;
na_env202.store_left=0;
}
na_env202.chunk_list=NULL;
na_env202.store_chunk=NULL;
gc_free135=NULL;
gc_free193=NULL;
gc_free195=NULL;
gc_free51=NULL;
gc_free60=NULL;
if(na_env46.store_left>0){
na_env46.store->header.size=na_env46.store_left;
na_env46.store->header.magic_flag=RSOH_FREE;
na_env46.store_left=0;
}
na_env46.chunk_list=NULL;
na_env46.store_chunk=NULL;
gc_free206=NULL;
if(na_env157.store_left>0){
na_env157.store->header.size=na_env157.store_left;
na_env157.store->header.magic_flag=RSOH_FREE;
na_env157.store_left=0;
}
na_env157.chunk_list=NULL;
na_env157.store_chunk=NULL;
gc_free136=NULL;
gc_free183=NULL;
if(na_env148.store_left>0){
na_env148.store->header.size=na_env148.store_left;
na_env148.store->header.magic_flag=RSOH_FREE;
na_env148.store_left=0;
}
na_env148.chunk_list=NULL;
na_env148.store_chunk=NULL;
gc_free208=NULL;
gc_free88=NULL;
gc_free113=NULL;
gc_free39=NULL;
gc_free127=NULL;
gc_free107=NULL;
gc_free80=NULL;
gc_free62=NULL;
gc_free118=NULL;
gc_free177=NULL;
gc_free188=NULL;
gc_free75=NULL;
gc_mark16(eiffel_root_object);
manifest_string_mark1();
once_function_mark();
mark_stack_and_registers();
gc_sweep();
collector_counter++;
}
gc89*store89=NULL;
int store_left89=0;
fsoc*store_chunk89=NULL;
gc89*gc_free89=NULL;
gc96*store96=NULL;
int store_left96=0;
fsoc*store_chunk96=NULL;
gc96*gc_free96=NULL;
gc167*store167=NULL;
int store_left167=0;
fsoc*store_chunk167=NULL;
gc167*gc_free167=NULL;
gc161*store161=NULL;
int store_left161=0;
fsoc*store_chunk161=NULL;
gc161*gc_free161=NULL;
gc165*store165=NULL;
int store_left165=0;
fsoc*store_chunk165=NULL;
gc165*gc_free165=NULL;
na_env na_env160={0,NULL,NULL,NULL,(void(*)(T0*))gc_mark160};
gc218*store218=NULL;
int store_left218=0;
fsoc*store_chunk218=NULL;
gc218*gc_free218=NULL;
gc74*store74=NULL;
int store_left74=0;
fsoc*store_chunk74=NULL;
gc74*gc_free74=NULL;
gc205*store205=NULL;
int store_left205=0;
fsoc*store_chunk205=NULL;
gc205*gc_free205=NULL;
gc184*store184=NULL;
int store_left184=0;
fsoc*store_chunk184=NULL;
gc184*gc_free184=NULL;
gc175*store175=NULL;
int store_left175=0;
fsoc*store_chunk175=NULL;
gc175*gc_free175=NULL;
na_env na_env152={0,NULL,NULL,NULL,(void(*)(T0*))gc_mark152};
gc172*store172=NULL;
int store_left172=0;
fsoc*store_chunk172=NULL;
gc172*gc_free172=NULL;
gc189*store189=NULL;
int store_left189=0;
fsoc*store_chunk189=NULL;
gc189*gc_free189=NULL;
gc134*store134=NULL;
int store_left134=0;
fsoc*store_chunk134=NULL;
gc134*gc_free134=NULL;
gc174*store174=NULL;
int store_left174=0;
fsoc*store_chunk174=NULL;
gc174*gc_free174=NULL;

