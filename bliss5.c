/*
ANSI C code generated by SmallEiffel The GNU Eiffel Compiler
Release -0.75 (July 16th 2001)
Copyright (C), 1994-2001 - LORIA - UHP - INRIA - FRANCE
Dominique COLNET and Suzanne COLLIN - SmallEiffel@loria.fr
http://SmallEiffel.loria.fr
*/
#ifdef __cplusplus
}
#endif
#include "bliss.h"
#ifdef __cplusplus
extern "C" {
#endif


void r203put_wave_index(T203* C,T2 a1){
(/*SFN*/C->_wave_index/*28*/)=a1;
(/*SFN*/C->_wave/*24*/)=r77at((T77*)((/*RF2*/((T33*)(r203song()))->_wave_table/*29*/)),(/*RF2*/(C)->_wave_index/*28*/));
(/*SFN*/C->_wave_length/*32*/)=(/*RF2*/((T76*)((/*RF2*/(C)->_wave/*24*/)))->_length/*20*/);
(/*SFN*/C->_modulus/*36*/)=((/*RF2*/(C)->_wave_length/*32*/))*(1024);
(/*SFN*/C->_freq/*20*/)=r5rounded(((T2toT5(1024))*((/*RF2*/(C)->_d_cache/*4*/)))/((/*RF2*/((T76*)((/*RF2*/(C)->_wave/*24*/)))->_root_freq/*4*/)));
}


void r203volslidedown(T203* C,T2 a1){
(/*SFN*/C->_volslide/*45*/)=((T5)(-(a1)))/((256)*(512));
}


T5 r203next_sample(T203* C){
T5 R=0;
/*[IF*/
if((/*RF2*/(C)->_playing/*40*/)){
R=(r76get_data_double((T76*)((/*RF2*/(C)->_wave/*24*/)),((/*RF2*/(C)->_x/*41*/))/(1024)))*((/*RF2*/(C)->_vol/*12*/));
(/*SFN*/C->_vol/*12*/)=((/*RF2*/(C)->_vol/*12*/))+((/*RF2*/(C)->_volslide/*45*/));
/*[IF*/
if(((/*RF2*/(C)->_vol/*12*/))<(T4toT5(0.0))){
(/*SFN*/C->_vol/*12*/)=T4toT5(0.0);
}
/*FI]*/
(/*SFN*/C->_x/*41*/)=((/*RF2*/(C)->_x/*41*/))+((/*RF2*/(C)->_freq/*20*/));
/*[IF*/
if(((/*RF2*/(C)->_x/*41*/))>=((/*RF2*/(C)->_modulus/*36*/))){
(/*SFN*/C->_playing/*40*/)=0;
}
/*FI]*/
}
/*FI]*/
return R;
}


T0* r203song(void){
if(fBC20song==0){fBC20song=1;{
{T33*n=new33();
oBC20song=((T0*)n);
r33make(n);
}
}}
return oBC20song;
}


void r203play_freq(T203* C,T5 a1){
(/*SFN*/C->_playing/*40*/)=1;
/*[IRF3.3put_freq*/((((T203*)(C)))->_d_cache/*4*/)=(a1);
/*]*/
/*[IRF3.3put_vol*/((((T203*)(C)))->_vol/*12*/)=(T4toT5(1.0));
/*]*/
(/*SFN*/C->_volslide/*45*/)=T4toT5(0.0);
(/*SFN*/C->_x/*41*/)=0;
}


T0* r203twin(T203* C){
T0* R=NULL;
R=((void*)new203());
*((T203*)R)=*C;
return R;
}


void r94process_text_edit_key(T94* C,T2 a1){
/*[IF*/
if(((a1)>=(48))&&((a1)<=(57))){
r94text_append(C,((T3)(a1)));
}
 else if(((a1)>=(97))&&((a1)<=(122))){
r94text_append(C,((T3)((a1)-(32))));
}
 else if((a1)==(8)){
r94text_remove_last(C);
}
/*FI]*/
}


T0* r94blue(void){
if(fBC18blue==0){fBC18blue=1;{
{T50*n=new50();
oBC18blue=((T0*)n);
r50make(n,0,0,127);
}
}}
return oBC18blue;
}


void r94handle_event(T94* C,T0* a1){
/*[IRF3.3put_x*/((((T23*)(((T23*)a1))))->_x/*8*/)=(((/*RF2*/(((T23*)a1))->_x/*8*/))-((/*RF2*/(C)->_offsetx/*4*/)));
/*]*/
/*[IRF3.3put_y*/((((T23*)(((T23*)a1))))->_y/*4*/)=(((/*RF2*/(((T23*)a1))->_y/*4*/))-((/*RF2*/(C)->_offsety/*8*/)));
/*]*/
r94process_event(C,a1);
}


void r94process_key(T94* C,T0* a1){
/*[IF*/
if(int_and((/*RF2*/(((T23*)a1))->_kmod/*24*/),192)){
/*[INSPECT*/
{int z1=(/*RF2*/(((T23*)a1))->_i1/*20*/);
switch(z1){
case 109:
r94put_machine(C,r33next_machine((T33*)(r94song()),(/*RF2*/(C)->_machine/*44*/)));
break;
case 112:
/*[IF*/
if(((/*RF2*/(C)->_pattern/*48*/))!=((void*)(NULL))){
(/*SFN*/C->_pattern/*48*/)=/*SSFRF4*//*X35next_pattern*/r67next_pattern((T67*)((/*RF2*/(C)->_machine/*44*/)),(/*RF2*/(C)->_pattern/*48*/));
}
/*FI]*/
break;
case 48:
(/*SFN*/C->_pattern/*48*/)=/*SSWARF2*//*X35setup_pattern*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*44*/)))->_setup_pattern/*20*/);
break;
case 13:
(/*SFN*/C->_pattern/*48*/)=X35new_pattern_autoname((/*RF2*/(C)->_machine/*44*/));
break;
}
}/*INSPECT]*/
}
else{
/*[IF*/
if(((/*RF2*/(C)->_pattern/*48*/))!=((void*)(NULL))){
r94process_edit_key(C,(/*RF2*/(((T23*)a1))->_i1/*20*/));
}
/*FI]*/
}
/*FI]*/
}


void r94draw_spreadsheet(T94* C){
T0* _it=NULL;
T2 _c=0;
T2 _r=0;
/*[IRF3.6fill_rect*/{T94* C1=C;
T2 b1=(30)+(((/*RF2*/(C)->_cursorc/*32*/))*(50));
T2 b2=(40)+(((/*RF2*/(C)->_cursorr/*28*/))*(20));
T2 b3=50;
T2 b4=20;
T0* b5=r94blue();
ext_fill_rect((b1)+((/*RF2*/(C1)->_offsetx/*4*/)),(b2)+((/*RF2*/(C1)->_offsety/*8*/)),b3,b4,(/*RF2*/(((T50*)b5))->_to_integer/*4*/));
}/*]*/
/*[IRF3.6aalinecolor*/{T94* C1=C;
T2 b1=0;
T2 b2=40;
T2 b3=((/*RF2*/(C)->_width/*12*/))-(1);
T2 b4=40;
T0* b5=r94white();
ext_aalinecolor(((/*RF2*/(C1)->_offsetx/*4*/))+(b1),((/*RF2*/(C1)->_offsety/*8*/))+(b2),((/*RF2*/(C1)->_offsetx/*4*/))+(b3),((/*RF2*/(C1)->_offsety/*8*/))+(b4),(/*RF2*/(((T50*)b5))->_to_gfx_integer/*8*/));
}/*]*/
/*[IRF3.6aalinecolor*/{T94* C1=C;
T2 b1=30;
T2 b2=20;
T2 b3=30;
T2 b4=((/*RF2*/(C)->_height/*16*/))-(1);
T0* b5=r94white();
ext_aalinecolor(((/*RF2*/(C1)->_offsetx/*4*/))+(b1),((/*RF2*/(C1)->_offsety/*8*/))+(b2),((/*RF2*/(C1)->_offsetx/*4*/))+(b3),((/*RF2*/(C1)->_offsety/*8*/))+(b4),(/*RF2*/(((T50*)b5))->_to_gfx_integer/*8*/));
}/*]*/
_r=0;
while (!((_r)==((/*RF2*/(C)->_maxr/*36*/))))
{
/*[IRF3.6draw_row_label*/{T94* C1=C;
T2 b1=_r;
T0* b2=r2to_string(((/*RF2*/(C)->_originr/*24*/))+(_r));
r94write(C1,0,(40)+((b1)*(20)),b2);
}/*]*/
_r=(_r)+(1);
}
_c=0;
while (!((_c)==((/*RF2*/(C)->_maxc/*40*/))))
{
/*[IRF3.6draw_col_label*/{T94* C1=C;
T2 b1=_c;
T0* b2=r2to_string(((/*RF2*/(C)->_originc/*20*/))+(_c));
r94write(C1,(30)+((b1)*(50)),20,b2);
}/*]*/
_c=(_c)+(1);
}
_r=0;
while (!((_r)==((/*RF2*/(C)->_maxr/*36*/))))
{
_c=0;
while (!((_c)==((/*RF2*/(C)->_maxc/*40*/))))
{
/*[IF*/
if(/*(IRF4.6has*/r54has(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_originr/*24*/))+(_r),((/*RF2*/(C)->_originc/*20*/))+(_c))/*)*/){
r94write(C,(30)+((_c)*(50)),(40)+((_r)*(20)),/*(IRF4.6at*/r54at(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_originr/*24*/))+(_r),((/*RF2*/(C)->_originc/*20*/))+(_c))/*)*/);
}
/*FI]*/
_c=(_c)+(1);
}
_r=(_r)+(1);
}
_it=r107get_new_iterator((T107*)(r33get_playing_rows((T33*)(r94song()),(/*RF2*/(C)->_pattern/*48*/))));
X98start(_it);
while (!(X98is_off(_it)))
{
_r=(40)+(((X98item(_it))-((/*RF2*/(C)->_originr/*24*/)))*(20));
/*[IF*/
if(((_r)>=(40))&&((_r)<((/*RF2*/(C)->_height/*16*/)))){
/*[IRF3.6aalinecolor*/{T94* C1=C;
T2 b1=0;
T2 b2=_r;
T2 b3=((/*RF2*/(C)->_width/*12*/))-(1);
T2 b4=_r;
T0* b5=r94white();
ext_aalinecolor(((/*RF2*/(C1)->_offsetx/*4*/))+(b1),((/*RF2*/(C1)->_offsety/*8*/))+(b2),((/*RF2*/(C1)->_offsetx/*4*/))+(b3),((/*RF2*/(C1)->_offsety/*8*/))+(b4),(/*RF2*/(((T50*)b5))->_to_gfx_integer/*8*/));
}/*]*/
}
/*FI]*/
X98next(_it);
}
}


T0* r94song(void){
if(fBC20song==0){fBC20song=1;{
{T33*n=new33();
oBC20song=((T0*)n);
r33make(n);
}
}}
return oBC20song;
}


void r94text_remove_last(T94* C){
T0* _s=NULL;
/*[IF*/
if(/*(IRF4.6has*/r54has(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)))/*)*/){
_s=/*(IRF4.6at*/r54at(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)))/*)*/;
r7remove_last(((T7*)_s),1);
/*[IF*/
if(/*(IRF4.7is_empty*/((/*RF2*/(((T7*)_s))->_count/*8*/))==(0)/*)*/){
/*[IRF3.5remove*/r54remove(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)));
/*]*/
}
/*FI]*/
}
/*FI]*/
}


void r94write(T94* C,T2 a1,T2 a2,T0* a3){
T0* _img=NULL;
{T49*n=new49();
/*[IRF3.1make*//*]*/
_img=((T0*)n);
}
r49render_string(((T49*)_img),a3);
/*[IRF3.6blit*/{T49* C1=((T49*)_img);
T2 b1=((/*RF2*/(C)->_offsetx/*4*/))+(a1);
T2 b2=((/*RF2*/(C)->_offsety/*8*/))+(a2);
ext_blit_img((/*RF2*/(C1)->_ptr/*5*/),b1,b2);
}/*]*/
r49free(((T49*)_img));
}


void r94put_machine(T94* C,T0* a1){
(/*SFN*/C->_machine/*44*/)=a1;
/*[IF*/
if(/*(IRF4.7is_empty*/((/*RF2*/((T61*)(/*SSWARF2*//*X35pattern_table*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*44*/)))->_pattern_table/*12*/)))->_count/*12*/))==(0)/*)*/){
(/*SFN*/C->_pattern/*48*/)=NULL;
}
else{
(/*SFN*/C->_pattern/*48*/)=/*(IRF4.6first*/(/*RF2*/(((T60*)((/*RF2*/((T59*)(/*SSWARF2*//*X35pattern_list*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*44*/)))->_pattern_list/*16*/)))->_first_link/*8*/))))->_item/*4*/)/*)*/;
}
/*FI]*/
}


void r94move_cursor_up(T94* C,T2 a1){
/*[IF*/
if(((/*RF2*/(C)->_cursorr/*28*/))>=(a1)){
(/*SFN*/C->_cursorr/*28*/)=((/*RF2*/(C)->_cursorr/*28*/))-(a1);
}
else{
/*[IF*/
if(((/*RF2*/(C)->_originr/*24*/))>=(a1)){
(/*SFN*/C->_originr/*24*/)=((/*RF2*/(C)->_originr/*24*/))-(a1);
}
else{
(/*SFN*/C->_originr/*24*/)=0;
}
/*FI]*/
}
/*FI]*/
}


void r94text_append(T94* C,T3 a1){
T0* _s=NULL;
/*[IF*/
if(/*(IRF4.6has*/r54has(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)))/*)*/){
_s=/*(IRF4.6at*/r54at(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)))/*)*/;
}
else{
{T7*n=new7();
r7make(n,10);
_s=((T0*)n);
}
}
/*FI]*/
r7add_last(((T7*)_s),a1);
/*[IRF3.5put*/r54put(((T54*)((/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_commands/*8*/))),_s,((/*RF2*/(C)->_cursorr/*28*/))+((/*RF2*/(C)->_originr/*24*/)),((/*RF2*/(C)->_cursorc/*32*/))+((/*RF2*/(C)->_originc/*20*/)));
/*]*/
}


void r94make(T94* C,T2 a1,T2 a2,T2 a3,T2 a4){
r94put_geometry(C,a1,a2,a3,a4);
(/*SFN*/C->_maxc/*40*/)=(((/*RF2*/(C)->_width/*12*/))/(50))-(1);
(/*SFN*/C->_maxr/*36*/)=(((/*RF2*/(C)->_height/*16*/))/(20))-(1);
}


void r94put_geometry(T94* C,T2 a1,T2 a2,T2 a3,T2 a4){
(/*SFN*/C->_offsetx/*4*/)=a1;
(/*SFN*/C->_offsety/*8*/)=a2;
(/*SFN*/C->_width/*12*/)=a3;
(/*SFN*/C->_height/*16*/)=a4;
}


void r94process_event(T94* C,T0* a1){
/*[IF*/
if(r7is_equal((T7*)((/*RF2*/(((T23*)a1))->_desc/*12*/)),((T0*)ms94_2079105))){
r94process_key(C,a1);
}
/*FI]*/
}


T0* r94twin(T94* C){
T0* R=NULL;
R=((void*)new94());
*((T94*)R)=*C;
return R;
}


T0* r94white(void){
if(fBC18white==0){fBC18white=1;{
{T50*n=new50();
oBC18white=((T0*)n);
r50make(n,255,255,255);
}
}}
return oBC18white;
}


void r94process_edit_key(T94* C,T2 a1){
/*[INSPECT*/
{int z1=a1;
switch(z1){
case 275:
/*[IF*/
if(((/*RF2*/(C)->_cursorc/*32*/))<(((/*RF2*/(C)->_maxc/*40*/))-(1))){
(/*SFN*/C->_cursorc/*32*/)=((/*RF2*/(C)->_cursorc/*32*/))+(1);
}
else{
(/*SFN*/C->_originc/*20*/)=((/*RF2*/(C)->_originc/*20*/))+(1);
}
/*FI]*/
break;
case 276:
/*[IF*/
if(((/*RF2*/(C)->_cursorc/*32*/))>(0)){
(/*SFN*/C->_cursorc/*32*/)=((/*RF2*/(C)->_cursorc/*32*/))-(1);
}
else{
/*[IF*/
if(((/*RF2*/(C)->_originc/*20*/))>(0)){
(/*SFN*/C->_originc/*20*/)=((/*RF2*/(C)->_originc/*20*/))-(1);
}
/*FI]*/
}
/*FI]*/
break;
case 274:
r94move_cursor_down(C,1);
break;
case 273:
r94move_cursor_up(C,1);
break;
default:;
r94process_text_edit_key(C,a1);
}
}/*INSPECT]*/
}


void r94move_cursor_down(T94* C,T2 a1){
/*[IF*/
if(((/*RF2*/(C)->_cursorr/*28*/))<(((/*RF2*/(C)->_maxr/*36*/))-(a1))){
(/*SFN*/C->_cursorr/*28*/)=((/*RF2*/(C)->_cursorr/*28*/))+(a1);
}
else{
(/*SFN*/C->_originr/*24*/)=((/*RF2*/(C)->_originr/*24*/))+(a1);
}
/*FI]*/
}


void r94update(T94* C){
r94write(C,0,0,r7_px_43(ms94_39610347,/*SSWARF2*//*X35name*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*44*/)))->_name/*4*/)));
/*[IF*/
if(((/*RF2*/(C)->_pattern/*48*/))!=((void*)(NULL))){
r94write(C,300,0,r7_px_43(ms94_41083572,(/*RF2*/((T51*)((/*RF2*/(C)->_pattern/*48*/)))->_name/*4*/)));
r94draw_spreadsheet(C);
}
else{
r94write(C,(((/*RF2*/(C)->_width/*12*/))/(2))-(100),((/*RF2*/(C)->_height/*16*/))/(2),((T0*)ms94_574977583));
}
/*FI]*/
}


T5 r76get_data_double(T76* C,T2 a1){
T5 R=0;
T2 _n=0;
_n=(T3code(r197item((T197*)((/*RF2*/(C)->_data/*24*/)),(2)*(a1))))+((256)*(T3code(r197item((T197*)((/*RF2*/(C)->_data/*24*/)),((2)*(a1))+(1)))));
/*[IF*/
if((_n)>=(32768)){
_n=(_n)-(65536);
}
/*FI]*/
R=(((T5)(_n))/(65536))*((/*RF2*/(C)->_volume/*12*/));
return R;
}


T0* r76twin(T76* C){
T0* R=NULL;
R=((void*)new76());
*((T76*)R)=*C;
return R;
}


void r76put_name(T76* C,T0* a1){
{T7*n=new7();
r7copy(n,a1);
(/*SFN*/C->_name/*28*/)=((T0*)n);
}
}


T0* r173twin(T173* C){
T0* R=NULL;
R=((void*)new173());
*((T173*)R)=*C;
return R;
}


T0* r23twin(T23* C){
T0* R=NULL;
R=((void*)new23());
*((T23*)R)=*C;
return R;
}


void r23desc_from_external(T23* C,T8 a1){
{T7*n=new7();
r7from_external_copy(n,a1);
(/*SFN*/C->_desc/*12*/)=((T0*)n);
}
}


void r23update(T23* C){
/*[IRF3.3put_x*/((((T23*)(C)))->_x/*8*/)=(export_current_x());
/*]*/
/*[IRF3.3put_y*/((((T23*)(C)))->_y/*4*/)=(export_current_y());
/*]*/
/*[IRF3.3put_i1*/((((T23*)(C)))->_i1/*20*/)=(export_current_i1());
/*]*/
/*[IRF3.3put_i2*/((((T23*)(C)))->_i2/*16*/)=(export_current_i2());
/*]*/
/*[IRF3.3put_kmod*/((((T23*)(C)))->_kmod/*24*/)=(export_current_kmod());
/*]*/
r23desc_from_external(C,export_current_desc());
}


T0* r33next_machine(T33* C,T0* a1){
T0* R=NULL;
T2 _i=0;
_i=(r40fast_index_of((T40*)((/*RF2*/(C)->_machine_list/*13*/)),a1))+(1);
/*[IF*/
if((_i)>((/*RF2*/((T40*)((/*RF2*/(C)->_machine_list/*13*/)))->_upper/*4*/))){
_i=1;
}
/*FI]*/
R=r40_px_64((T40*)((/*RF2*/(C)->_machine_list/*13*/)),_i);
return R;
}


T0* r33at(T33* C,T2 a1,T2 a2){
T0* R=NULL;
R=r56at((T56*)((/*RF2*/((T80*)(r81_px_64((T81*)((/*RF2*/(C)->_tracks/*25*/)),a2)))->_commands/*8*/)),a1);
return R;
}
T0*oBC34machine_class_table=NULL;
int fBC34machine_class_table=0;


T0* r33machine_class_table(void){
if(fBC34machine_class_table==0){fBC34machine_class_table=1;{
T0* _m=NULL;
{T44*n=new44();
oBC34machine_class_table=((T0*)n);
/*[IRF3.4make*/r44with_capacity(n,193);
/*]*/
}
{T75*n=new75();
/*[IRF3.6register*/{T75* C1=n;
T0* b1=oBC34machine_class_table;
r44put(((T44*)b1),(T0*)C1,((T0*)ms75_265794));
}/*]*/
_m=((T0*)n);
}
{T74*n=new74();
/*[IRF3.6register*/{T74* C1=n;
T0* b1=oBC34machine_class_table;
r44put(((T44*)b1),(T0*)C1,((T0*)ms74_1325625));
}/*]*/
_m=((T0*)n);
}
{T73*n=new73();
/*[IRF3.6register*/{T73* C1=n;
T0* b1=oBC34machine_class_table;
r44put(((T44*)b1),(T0*)C1,((T0*)ms73_319144));
}/*]*/
_m=((T0*)n);
}
{T72*n=new72();
/*[IRF3.6register*/{T72* C1=n;
T0* b1=oBC34machine_class_table;
r44put(((T44*)b1),(T0*)C1,((T0*)ms72_2425));
}/*]*/
_m=((T0*)n);
}
{T71*n=new71();
/*[IRF3.6register*/{T71* C1=n;
T0* b1=oBC34machine_class_table;
r44put(((T44*)b1),(T0*)C1,((T0*)ms71_33463794));
}/*]*/
_m=((T0*)n);
}
{T69*n=new69();
/*[IRF3.6register*/{T69* C1=n;
T0* b1=oBC34machine_class_table;
r44put(((T44*)b1),(T0*)C1,((T0*)ms69_1327181));
}/*]*/
_m=((T0*)n);
}
{T67*n=new67();
/*[IRF3.6register*/{T67* C1=n;
T0* b1=oBC34machine_class_table;
r44put(((T44*)b1),(T0*)C1,((T0*)ms67_13464));
}/*]*/
_m=((T0*)n);
}
}}
return oBC34machine_class_table;
}


void r33move_to(T0* a1,T2 a2,T2 a3){
/*SSPRF3*//*X35move_to*/r67move_to(((T67*)a1),a2,a3);
}


T5 r33next_sample(T33* C){
T5 R=0;
/*[IF*/
if((/*RF2*/(C)->_play_flag/*8*/)){
/*[IF*/
if(/*(IRF4.7new_beat*/((/*RF2*/(C)->_sample_mod_tick/*57*/))==(0)/*)*/){
r33boom(C);
}
/*FI]*/
r33increment_sample_count(C);
r33unvisit_all_machines(C);
X35compute_next_frame((/*RF2*/(C)->_master/*4*/));
R=/*SSWARF2*//*X35last_frame*/(/*RF2*/((T67*)((/*RF2*/(C)->_master/*4*/)))->_last_frame/*52*/);
/*[IF*/
if((R)>(T4toT5(1.0))){
R=T4toT5(1.0);
}
 else if((R)<(T4toT5(-(1.0)))){
R=T4toT5(-(1.0));
}
/*FI]*/
}
/*FI]*/
return R;
}


T0* r33new_machine_autoname(T33* C,T0* a1){
T0* R=NULL;
T0* _m=NULL;
T2 _i=0;
T0* _s=NULL;
_m=r44at((T44*)(r33machine_class_table()),a1);
_s=X35id(_m);
/*[IF*/
if(r44has((T44*)((/*RF2*/(C)->_machine_table/*9*/)),_s)){
_i=2;
while (!(!(r44has((T44*)((/*RF2*/(C)->_machine_table/*9*/)),r7_px_43(((T7*)_s),r2to_string(_i))))))
{
_i=(_i)+(1);
}
_s=r7_px_43(((T7*)_s),r2to_string(_i));
}
/*FI]*/
R=r33add_machine(C,_m,_s);
return R;
}


void r33boom(T33* C){
T0* _itm=NULL;
T0* _it=NULL;
/*[IF*/
if(((/*RF2*/(C)->_beat_count/*33*/))>=((/*RF2*/(C)->_end_beat/*37*/))){
(/*SFN*/C->_beat_count/*33*/)=0;
}
/*FI]*/
_itm=r40get_new_iterator((T40*)((/*RF2*/(C)->_machine_list/*13*/)));
r92start(((T92*)_itm));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T92*)_itm))->_current_link/*8*/))==(NULL)/*)*/))
{
X35boom(/*(IRF4.6item*/(/*RF2*/(((T42*)((/*RF2*/(((T92*)_itm))->_current_link/*8*/))))->_item/*4*/)/*)*/);
r92next(((T92*)_itm));
}
_it=r81get_new_iterator((T81*)((/*RF2*/(C)->_tracks/*25*/)));
r114start(((T114*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T114*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
r80boom((T80*)(/*(IRF4.6item*/(/*RF2*/(((T82*)((/*RF2*/(((T114*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/),(/*RF2*/(C)->_beat_count/*33*/));
r114next(((T114*)_it));
}
(/*SFN*/C->_beat_count/*33*/)=((/*RF2*/(C)->_beat_count/*33*/))+(1);
}


void r33jump_to(T33* C,T2 a1){
(/*SFN*/C->_sample_mod_tick/*57*/)=0;
(/*SFN*/C->_beat_count/*33*/)=a1;
}


T6 r33exists_edge(T0* a1,T0* a2){
T6 R=0;
T0* _it=NULL;
_it=r65get_new_iterator((T65*)(/*SSWARF2*//*X35in_connection*/(/*RF2*/(((T67*)a2))->_in_connection/*8*/)));
r122start(((T122*)_it));
while (!((/*(IRF4.7is_off*/((/*RF2*/(((T122*)_it))->_current_link/*8*/))==(NULL)/*)*/)||((R)==(1))))
{
/*[IF*/
if(((/*RF2*/((T64*)(/*(IRF4.6item*/(/*RF2*/(((T66*)((/*RF2*/(((T122*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_src/*8*/))==((void*)(a1))){
R=1;
}
else{
r122next(((T122*)_it));
}
/*FI]*/
}
return R;
}


void r33make(T33* C){
{T40*n=new40();
r40make(n);
(/*SFN*/C->_machine_zorder/*17*/)=((T0*)n);
}
{T44*n=new44();
/*[IRF3.4make*/r44with_capacity(n,193);
/*]*/
(/*SFN*/C->_machine_table/*9*/)=((T0*)n);
}
{T40*n=new40();
r40make(n);
(/*SFN*/C->_machine_list/*13*/)=((T0*)n);
}
{T65*n=new65();
r65make(n);
(/*SFN*/C->_connection_list/*21*/)=((T0*)n);
}
{T81*n=new81();
r81make(n);
(/*SFN*/C->_tracks/*25*/)=((T0*)n);
}
{T77*n=new77();
/*[IRF3.4make*/r77with_capacity(n,193);
/*]*/
(/*SFN*/C->_wave_table/*29*/)=((T0*)n);
}
(/*SFN*/C->_master/*4*/)=r33new_machine(C,((T0*)ms33_319144a),((T0*)ms33_319144));
/*SSPRF3*//*X35move_to*/r67move_to((T67*)((/*RF2*/(C)->_master/*4*/)),((638)-(/*SSWARF2*//*X35width*/(/*RF2*/((T67*)((/*RF2*/(C)->_master/*4*/)))->_width/*32*/)))/(2),((438)-(/*SSWARF2*//*X35height*/(/*RF2*/((T67*)((/*RF2*/(C)->_master/*4*/)))->_height/*36*/)))/(2));
(/*SFN*/C->_end_beat/*37*/)=16;
}


void r33calculate_samples_per_tick(T33* C){
(/*SFN*/C->_sample_mod_tick/*57*/)=0;
(/*SFN*/C->_samples_per_tick/*65*/)=r5rounded(((T5)((60)*(44100)))/(((/*RF2*/(C)->_bpm/*49*/))*((/*RF2*/(C)->_tpb/*53*/))));
}


void r33import_buzz(T33* C,T0* a1){
T0* _bc=NULL;
{T131*n=new131();
/*[IRF3.1make*//*]*/
_bc=((T0*)n);
}
r131convert((T0*)C,a1);
}


T6 r33has(T33* C,T2 a1,T2 a2){
T6 R=0;
R=r56has((T56*)((/*RF2*/((T80*)(r81_px_64((T81*)((/*RF2*/(C)->_tracks/*25*/)),a2)))->_commands/*8*/)),a1);
return R;
}


T0* r33add_machine(T33* C,T0* a1,T0* a2){
T0* R=NULL;
R=X35make_instance(a1,a2);
r44put((T44*)((/*RF2*/(C)->_machine_table/*9*/)),R,a2);
r40add_last((T40*)((/*RF2*/(C)->_machine_zorder/*17*/)),R);
r40add_last((T40*)((/*RF2*/(C)->_machine_list/*13*/)),R);
return R;
}


void r33save(T33* C,T0* a1){
T0* _m=NULL;
T0* _it=NULL;
_it=r40get_new_iterator((T40*)((/*RF2*/(C)->_machine_zorder/*17*/)));
r92start(((T92*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T92*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
_m=/*(IRF4.6item*/(/*RF2*/(((T42*)((/*RF2*/(((T92*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/;
r83start_machine(((T83*)a1),/*SSWARF2*//*X35name*/(/*RF2*/(((T67*)_m))->_name/*4*/));
/*[IRF3.6put_machine_class*/{T83* C1=((T83*)a1);
T0* b1=X35id(_m);
r83put_line(C1,r7_px_43((T7*)(r7_px_43(ms83_1962444,b1)),((T0*)ms83_34a)));
}/*]*/
r83put_machine_pos(((T83*)a1),/*SSWARF2*//*X35posx*/(/*RF2*/(((T67*)_m))->_posx/*28*/),/*SSWARF2*//*X35posy*/(/*RF2*/(((T67*)_m))->_posy/*24*/));
r83end_machine(((T83*)a1));
r92next(((T92*)_it));
}
_it=r40get_new_iterator((T40*)((/*RF2*/(C)->_machine_zorder/*17*/)));
r83start_zorder(((T83*)a1));
r92start(((T92*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T92*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
/*[IRF3.6put_machine_name*/{T83* C1=((T83*)a1);
T0* b1=/*SSWARF2*//*X35name*/(/*RF2*/((T67*)(/*(IRF4.6item*/(/*RF2*/(((T42*)((/*RF2*/(((T92*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_name/*4*/);
r83put_line(C1,r7_px_43((T7*)(r7_px_43(ms83_52110219,b1)),((T0*)ms83_34)));
}/*]*/
r92next(((T92*)_it));
}
r83end_zorder(((T83*)a1));
}


void r33setup_machines(T33* C){
T0* _it=NULL;
_it=r40get_new_iterator((T40*)((/*RF2*/(C)->_machine_list/*13*/)));
r92start(((T92*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T92*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
/*SSPRF3*//*X35setup*//*[IRF3.5setup*/r51instant_execute(((T51*)((/*RF2*/((T67*)(/*(IRF4.6item*/(/*RF2*/(((T42*)((/*RF2*/(((T92*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_setup_pattern/*20*/))));
/*]*/
r92next(((T92*)_it));
}
}


void r33put_bpm_tpb(T33* C,T2 a1,T2 a2){
(/*SFN*/C->_bpm/*49*/)=a1;
(/*SFN*/C->_tpb/*53*/)=a2;
r33calculate_samples_per_tick(C);
}


void r33toposort(T33* C){
T0* _it=NULL;
T0* _m=NULL;
T0* _sl=NULL;
{T40*n=new40();
r40make(n);
_sl=((T0*)n);
}
r40add_last(((T40*)_sl),(/*RF2*/(C)->_master/*4*/));
{T40*n=new40();
r40make(n);
(/*SFN*/C->_machine_topo_order/*69*/)=((T0*)n);
}
while (!(/*(IRF4.7is_empty*/((/*RF2*/(((T40*)_sl))->_first_link/*8*/))==(NULL)/*)*/))
{
_m=/*(IRF4.6last*/(/*RF2*/(((T42*)((/*RF2*/(((T40*)_sl))->_last_link/*12*/))))->_item/*4*/)/*)*/;
r40remove_last(((T40*)_sl));
r40add_first((T40*)((/*RF2*/(C)->_machine_topo_order/*69*/)),_m);
_it=r65get_new_iterator((T65*)(/*SSWARF2*//*X35in_connection*/(/*RF2*/(((T67*)_m))->_in_connection/*8*/)));
r122start(((T122*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T122*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
/*[IF*/
if(!(r40fast_has((T40*)((/*RF2*/(C)->_machine_topo_order/*69*/)),(/*RF2*/((T64*)(/*(IRF4.6item*/(/*RF2*/(((T66*)((/*RF2*/(((T122*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_src/*8*/)))){
r40add_last(((T40*)_sl),(/*RF2*/((T64*)(/*(IRF4.6item*/(/*RF2*/(((T66*)((/*RF2*/(((T122*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_src/*8*/));
}
/*FI]*/
r122next(((T122*)_it));
}
}
}


T0* r33get_playing_rows(T33* C,T0* a1){
T0* R=NULL;
T0* _it=NULL;
{T107*n=new107();
r107make(n);
R=((T0*)n);
}
_it=r81get_new_iterator((T81*)((/*RF2*/(C)->_tracks/*25*/)));
r114start(((T114*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T114*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
/*[IF*/
if(((/*RF2*/((T80*)(/*(IRF4.6item*/(/*RF2*/(((T82*)((/*RF2*/(((T114*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_playing_pattern/*12*/))==((void*)(a1))){
r107add_last(((T107*)R),((/*RF2*/(C)->_beat_count/*33*/))-((/*RF2*/((T80*)(/*(IRF4.6item*/(/*RF2*/(((T82*)((/*RF2*/(((T114*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_offset/*16*/)));
}
/*FI]*/
r114next(((T114*)_it));
}
return R;
}


T0* r33twin(T33* C){
T0* R=NULL;
R=((void*)new33());
*((T33*)R)=*C;
return R;
}


void r33increment_sample_count(T33* C){
(/*SFN*/C->_sample_count/*61*/)=((/*RF2*/(C)->_sample_count/*61*/))+(1);
(/*SFN*/C->_sample_mod_tick/*57*/)=((/*RF2*/(C)->_sample_mod_tick/*57*/))+(1);
/*[IF*/
if(((/*RF2*/(C)->_sample_mod_tick/*57*/))==((/*RF2*/(C)->_samples_per_tick/*65*/))){
(/*SFN*/C->_sample_mod_tick/*57*/)=0;
}
/*FI]*/
}


void r33connect(T33* C,T0* a1,T0* a2){
T0* _edge=NULL;
/*[IF*/
if((a1)==((void*)(a2))){
r85put_string((T85*)(oBC1io),((T0*)ms33_810425288));
}
 else if(r33exists_edge(a1,a2)){
r85put_string((T85*)(oBC1io),((T0*)ms33_907346911));
}
else{
{T64*n=new64();
r64make(n,a1,a2);
_edge=((T0*)n);
}
/*SSPRF3*//*X35add_inedge*//*[IRF3.5add_inedge*/r65add_last(((T65*)((/*RF2*/(((T67*)a2))->_in_connection/*8*/))),_edge);
/*]*/
/*[IF*/
/*AF*//*AE*/
r65add_last((T65*)((/*RF2*/(C)->_connection_list/*21*/)),_edge);
/*FI]*/
r33toposort(C);
}
/*FI]*/
}


void r33delete_edge(T33* C,T0* a1){
T2 _i=0;
_i=r65fast_index_of((T65*)((/*RF2*/(C)->_connection_list/*21*/)),a1);
r65remove((T65*)((/*RF2*/(C)->_connection_list/*21*/)),_i);
/*SSPRF3*//*X35remove_inedge*//*[IRF3.6remove_inedge*/{T67* C1=(T67*)((/*RF2*/(((T64*)a1))->_dst/*4*/));
T0* b1=a1;
r65remove((T65*)((/*RF2*/(C1)->_in_connection/*8*/)),r65fast_index_of((T65*)((/*RF2*/(C1)->_in_connection/*8*/)),b1));
}/*]*/
r33toposort(C);
}


void r33unvisit_all_machines(T33* C){
T0* _it=NULL;
_it=r40get_new_iterator((T40*)((/*RF2*/(C)->_machine_list/*13*/)));
r92start(((T92*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T92*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
/*SSPRF3*//*X35clear_visited*//*[IRF3.3clear_visited*/((((T67*)((T67*)(/*(IRF4.6item*/(/*RF2*/(((T42*)((/*RF2*/(((T92*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))))->_visited/*60*/)=(0);
/*]*/
r92next(((T92*)_it));
}
}


T0* r33new_machine(T33* C,T0* a1,T0* a2){
T0* R=NULL;
T0* _m=NULL;
_m=r44at((T44*)(r33machine_class_table()),a2);
R=r33add_machine(C,_m,a1);
return R;
}


void r33rewind(T33* C){
T0* _it=NULL;
(/*SFN*/C->_beat_count/*33*/)=0;
_it=r81get_new_iterator((T81*)((/*RF2*/(C)->_tracks/*25*/)));
r114start(((T114*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T114*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
r80rewind((T80*)(/*(IRF4.6item*/(/*RF2*/(((T82*)((/*RF2*/(((T114*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/));
r114next(((T114*)_it));
}
r33setup_machines(C);
}


void r33add_track(T33* C,T0* a1){
T0* _t=NULL;
{T80*n=new80();
r80make(n,a1);
_t=((T0*)n);
}
r81add_last((T81*)((/*RF2*/(C)->_tracks/*25*/)),_t);
}


void r135put_event_count(T135* C,T2 a1){
(/*SFN*/C->_event_count/*16*/)=a1;
{T146*n=new146();
r146make(n,0,(/*RF2*/(C)->_event_count/*16*/));
(/*SFN*/C->_eventpos/*8*/)=((T0*)n);
}
{T146*n=new146();
r146make(n,0,(/*RF2*/(C)->_event_count/*16*/));
(/*SFN*/C->_event/*12*/)=((T0*)n);
}
}


T0* r135twin(T135* C){
T0* R=NULL;
R=((void*)new135());
*((T135*)R)=*C;
return R;
}


void r51boom(T51* C,T2 a1){
T0* _it=NULL;
/*[IF*/
if(r54has_row((T54*)((/*RF2*/(C)->_commands/*8*/)),a1)){
_it=r124get_new_iterator((T124*)(r54get_row((T54*)((/*RF2*/(C)->_commands/*8*/)),a1)));
r127start(((T127*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T127*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
X35process_command((/*RF2*/(C)->_machine/*12*/),/*(IRF4.6item*/(/*RF2*/(((T125*)((/*RF2*/(((T127*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/);
r127next(((T127*)_it));
}
}
/*FI]*/
}


void r51make(T51* C,T0* a1,T0* a2){
(/*SFN*/C->_machine/*12*/)=a2;
{T54*n=new54();
r54make(n);
(/*SFN*/C->_commands/*8*/)=((T0*)n);
}
r51put_name(C,a1);
}


void r51instant_execute(T51* C){
T0* _it2=NULL;
T0* _it=NULL;
_it=r107get_new_iterator((T107*)(r54get_sorted_row_list((T54*)((/*RF2*/(C)->_commands/*8*/)))));
X98start(_it);
while (!(X98is_off(_it)))
{
_it2=r107get_new_iterator((T107*)(r54get_sorted_col_list((T54*)((/*RF2*/(C)->_commands/*8*/)),X98item(_it))));
X98start(_it2);
while (!(X98is_off(_it2)))
{
X35process_command((/*RF2*/(C)->_machine/*12*/),r54at((T54*)((/*RF2*/(C)->_commands/*8*/)),X98item(_it),X98item(_it2)));
X98next(_it2);
}
X98next(_it);
}
}


T0* r51twin(T51* C){
T0* R=NULL;
R=((void*)new51());
*((T51*)R)=*C;
return R;
}


void r51put_name(T51* C,T0* a1){
{T7*n=new7();
r7copy(n,a1);
(/*SFN*/C->_name/*4*/)=((T0*)n);
}
}


void r183read_character(T183* C){
(/*SFN*/C->_last_character/*5*/)=wrap_fgetc((/*RF2*/(C)->_ptr/*6*/));
}


T6 r183end_of_input(T183* C){
T6 R=0;
R=wrap_feof((/*RF2*/(C)->_ptr/*6*/));
return R;
}


void r183connect_to(T183* C,T0* a1){
(/*SFN*/C->_ptr/*6*/)=wrap_fopen(r7to_external(((T7*)a1)),r7to_external(ms183_668));
/*[IF*/
if((NULL!=(/*RF2*/(C)->_ptr/*6*/))){
(/*SFN*/C->_is_connected/*4*/)=1;
}
/*FI]*/
}


T0* r183twin(T183* C){
T0* R=NULL;
R=((void*)new183());
*((T183*)R)=*C;
return R;
}


T5 r206evaluate(T5 a1){
T5 R=0;
R=sin((a1)*(6.283185307));
return R;
}


T0* r206twin(T206* C){
T0* R=NULL;
R=((void*)new206());
*((T206*)R)=*C;
return R;
}


void r136make(T136* C,T2 a1,T2 a2,T2 a3,T2 a4){
(/*SFN*/C->_src/*4*/)=a1;
(/*SFN*/C->_dst/*8*/)=a2;
(/*SFN*/C->_amp/*12*/)=a3;
(/*SFN*/C->_pan/*16*/)=a4;
}


T0* r136twin(T136* C){
T0* R=NULL;
R=((void*)new136());
*((T136*)R)=*C;
return R;
}


T5 r208next_sample(T208* C){
T5 R=0;
r208next_t(C);
R=r206evaluate((/*RF2*/(C)->_t/*4*/));
return R;
}


T0* r208twin(T208* C){
T0* R=NULL;
R=((void*)new208());
*((T208*)R)=*C;
return R;
}


void r208next_t(T208* C){
(/*SFN*/C->_t/*4*/)=fast_next((/*RF2*/(C)->_t/*4*/),(/*RF2*/(C)->_freq/*12*/));
}


void r80boom(T80* C,T2 a1){
/*[IF*/
if(r56has((T56*)((/*RF2*/(C)->_commands/*8*/)),a1)){
(/*SFN*/C->_offset/*16*/)=a1;
r80process_command(C,r56at((T56*)((/*RF2*/(C)->_commands/*8*/)),a1));
}
/*FI]*/
/*[IF*/
if(((/*RF2*/(C)->_playing_pattern/*12*/))!=((void*)(NULL))){
r51boom((T51*)((/*RF2*/(C)->_playing_pattern/*12*/)),(a1)-((/*RF2*/(C)->_offset/*16*/)));
}
/*FI]*/
}


void r80make(T80* C,T0* a1){
(/*SFN*/C->_machine/*4*/)=a1;
{T56*n=new56();
/*[IRF3.4make*/r56with_capacity(n,193);
/*]*/
(/*SFN*/C->_commands/*8*/)=((T0*)n);
}
}


void r80process_command(T80* C,T0* a1){
/*[IF*/
if(r61has((T61*)(/*SSWARF2*//*X35pattern_table*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*4*/)))->_pattern_table/*12*/)),a1)){
(/*SFN*/C->_playing_pattern/*12*/)=r61at((T61*)(/*SSWARF2*//*X35pattern_table*/(/*RF2*/((T67*)((/*RF2*/(C)->_machine/*4*/)))->_pattern_table/*12*/)),a1);
}
else{
(/*SFN*/C->_playing_pattern/*12*/)=NULL;
}
/*FI]*/
}


T0* r80twin(T80* C){
T0* R=NULL;
R=((void*)new80());
*((T80*)R)=*C;
return R;
}


void r80rewind(T80* C){
(/*SFN*/C->_offset/*16*/)=0;
(/*SFN*/C->_playing_pattern/*12*/)=NULL;
}


T0* r177twin(T177* C){
T0* R=NULL;
R=((void*)new177());
*((T177*)R)=*C;
return R;
}


T0* r75new_pattern_autoname(T75* C){
T0* R=NULL;
T2 _i=0;
while (!(!(r61has((T61*)((/*RF2*/(C)->_pattern_table/*12*/)),r2to_string(_i)))))
{
_i=(_i)+(1);
}
R=r75new_pattern(C,r2to_string(_i));
return R;
}


T0* r75blue(void){
if(fBC18blue==0){fBC18blue=1;{
{T50*n=new50();
oBC18blue=((T0*)n);
r50make(n,0,0,127);
}
}}
return oBC18blue;
}


void r75move_to(T75* C,T2 a1,T2 a2){
(/*SFN*/C->_posx/*28*/)=a1;
(/*SFN*/C->_posy/*24*/)=a2;
}


T2 r75centerx(T75* C){
T2 R=0;
R=((/*RF2*/(C)->_posx/*28*/))+(((/*RF2*/(C)->_width/*32*/))/(2));
return R;
}


T2 r75centery(T75* C){
T2 R=0;
R=((/*RF2*/(C)->_posy/*24*/))+(((/*RF2*/(C)->_height/*36*/))/(2));
return R;
}


T0* r75new_pattern(T75* C,T0* a1){
T0* R=NULL;
{T51*n=new51();
r51make(n,a1,(T0*)C);
R=((T0*)n);
}
r61put((T61*)((/*RF2*/(C)->_pattern_table/*12*/)),R,a1);
r59add_last((T59*)((/*RF2*/(C)->_pattern_list/*16*/)),R);
return R;
}


void r75boom(T75* C){
/*[IF*/
if(((/*RF2*/(C)->_ttl/*61*/))>(0)){
(/*SFN*/C->_ttl/*61*/)=((/*RF2*/(C)->_ttl/*61*/))-(1);
/*[IF*/
if(((/*RF2*/(C)->_ttl/*61*/))==(0)){
r200remove((T200*)((/*RF2*/(C)->_drum_table/*65*/)),((T0*)ms75_17651));
}
/*FI]*/
}
/*FI]*/
}


T0* r75clone(T0* a1){
T0* R=NULL;
/*[IF*/
if((a1)!=((void*)(NULL))){
R=X10twin(a1);
}
/*FI]*/
return R;
}


T0* r75make_instance(T75* C,T0* a1){
T0* R=NULL;
R=r75clone((T0*)C);
r75put_name(((T75*)R),a1);
r75init_connection_lists(((T75*)R));
r75init_pattern_table(((T75*)R));
r75init_picture(((T75*)R));
r75init(((T75*)R));
return R;
}


void r75play_freq(T75* C,T5 a1){
T0* _s=NULL;
T0* _o=NULL;
{T206*n=new206();
/*[IRF3.1make*//*]*/
_s=((T0*)n);
}
{T208*n=new208();
/*[IRF3.3make*/((((T208*)(n)))->_periodicf/*20*/)=(_s);
/*]*/
_o=((T0*)n);
}
/*[IRF3.3put_freq*/((((T208*)(((T208*)_o))))->_freq/*12*/)=(a1);
/*]*/
(/*SFN*/C->_ttl/*61*/)=3;
r200put((T200*)((/*RF2*/(C)->_drum_table/*65*/)),_o,((T0*)ms75_17651a));
}


void r75snare_drum(T75* C){
T0* _rm=NULL;
T0* _c=NULL;
T0* _n=NULL;
{T212*n=new212();
r212make(n);
_n=((T0*)n);
}
r212put_freq(((T212*)_n),T2toT5(20000));
{T211*n=new211();
r211make(n,T4toT5(1.0),T4toT5(0.0));
_c=((T0*)n);
}
{T209*n=new209();
r209make(n,_n,_c);
_rm=((T0*)n);
}
r200put((T200*)((/*RF2*/(C)->_drum_table/*65*/)),_rm,((T0*)ms75_88721));
}


T6 r75is_note(T0* a1,T2 a2){
T6 R=0;
T2 _j=0;
_j=a2;
/*[IF*/
if(((((unsigned)(/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/))>=((unsigned)(((T3)'A')))))&&((((unsigned)(/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/))<=((unsigned)(((T3)'G')))))){
_j=(_j)+(1);
/*[IF*/
if(((_j)<=(/*(IRF4.3upper*/(/*RF2*/(((T7*)a1))->_count/*8*/)/*)*/))&&((/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/)==(((T3)'\43')))){
_j=(_j)+(1);
}
/*FI]*/
/*[IF*/
if(((_j)<=(/*(IRF4.3upper*/(/*RF2*/(((T7*)a1))->_count/*8*/)/*)*/))&&(r3is_digit(/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/))){
R=1;
}
/*FI]*/
}
/*FI]*/
return R;
}


void r75process_command(T75* C,T0* a1){
r85put_string((T85*)(oBC1io),r7_px_43((T7*)(r7_px_43(ms75_247323012,a1)),((T0*)ms75_10a)));
/*[IF*/
if(r75is_note(a1,1)){
r85put_string((T85*)(oBC1io),((T0*)ms75_2001008752));
r85put_string((T85*)(oBC1io),r7_px_43((T7*)(r2to_string(r75note_to_rank(a1,1))),((T0*)ms75_10)));
r75play_freq(C,X118item(r75note_freq_table(),r75note_to_rank(a1,1)));
}
 else if(r7is_equal(((T7*)a1),((T0*)ms75_443))){
r75kick_drum(C);
}
 else if(r7is_equal(((T7*)a1),((T0*)ms75_483))){
r75snare_drum(C);
}
/*FI]*/
}


void r75kick_drum(T75* C){
T0* _rm=NULL;
T0* _fm=NULL;
T0* _c=NULL;
T0* _o=NULL;
T0* _s=NULL;
{T206*n=new206();
/*[IRF3.1make*//*]*/
_s=((T0*)n);
}
{T208*n=new208();
/*[IRF3.3make*/((((T208*)(n)))->_periodicf/*20*/)=(_s);
/*]*/
_o=((T0*)n);
}
{T210*n=new210();
/*[IRF3.1make*//*]*/
_fm=((T0*)n);
}
/*[IRF3.3put_input*/((((T210*)(((T210*)_fm))))->_input/*4*/)=(_o);
/*]*/
{T211*n=new211();
r211make(n,T4toT5(330.0),T4toT5(0.0));
_c=((T0*)n);
}
/*[IRF3.3put_modulator*/((((T210*)(((T210*)_fm))))->_modulator/*8*/)=(_c);
/*]*/
{T211*n=new211();
r211make(n,T4toT5(1.0),T4toT5(0.0));
_c=((T0*)n);
}
{T209*n=new209();
r209make(n,_fm,_c);
_rm=((T0*)n);
}
r200put((T200*)((/*RF2*/(C)->_drum_table/*65*/)),_rm,((T0*)ms75_16602));
}


void r75init(T75* C){
{T200*n=new200();
/*[IRF3.4make*/r200with_capacity(n,193);
/*]*/
(/*SFN*/C->_drum_table/*65*/)=((T0*)n);
}
}


void r75init_connection_lists(T75* C){
{T65*n=new65();
r65make(n);
(/*SFN*/C->_in_connection/*8*/)=((T0*)n);
}
}


T0* r75note_rank_array(void){
if(fBC36note_rank_array==0){fBC36note_rank_array=1;{
oBC36note_rank_array=se_ma146(7,
0,
2,
4,
5,
7,
9,
11);
}}
return oBC36note_rank_array;
}


void r75init_pattern_table(T75* C){
{T61*n=new61();
/*[IRF3.4make*/r61with_capacity(n,193);
/*]*/
(/*SFN*/C->_pattern_table/*12*/)=((T0*)n);
}
{T59*n=new59();
r59make(n);
(/*SFN*/C->_pattern_list/*16*/)=((T0*)n);
}
{T51*n=new51();
r51make(n,((T0*)ms35_63105),(T0*)C);
(/*SFN*/C->_setup_pattern/*20*/)=((T0*)n);
}
}


T0* r75next_pattern(T75* C,T0* a1){
T0* R=NULL;
T2 _i=0;
_i=(r59fast_index_of((T59*)((/*RF2*/(C)->_pattern_list/*16*/)),a1))+(1);
/*[IF*/
if((_i)>((/*RF2*/((T59*)((/*RF2*/(C)->_pattern_list/*16*/)))->_upper/*4*/))){
_i=1;
}
/*FI]*/
R=r59_px_64((T59*)((/*RF2*/(C)->_pattern_list/*16*/)),_i);
return R;
}


T0* r75twin(T75* C){
T0* R=NULL;
R=((void*)new75());
*((T75*)R)=*C;
return R;
}


T0* r75note_freq_table(void){
if(fBC36note_freq_table==0){fBC36note_freq_table=1;{
T2 _i=0;
{T118*n=new118();
oBC36note_freq_table=((T0*)n);
r118make(n,0,127);
}
_i=0;
while (!((_i)>(127)))
{
X118put(oBC36note_freq_table,(T4toT5(220.0))*(r4pow(2.0,((T5)((_i)-(57)))/(12))),_i);
_i=(_i)+(1);
}
}}
return oBC36note_freq_table;
}


T0* r75white(void){
if(fBC18white==0){fBC18white=1;{
{T50*n=new50();
oBC18white=((T0*)n);
r50make(n,255,255,255);
}
}}
return oBC18white;
}


T2 r75note_to_rank(T0* a1,T2 a2){
T2 R=0;
T2 _j=0;
_j=a2;
R=(T3code(/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/))-(T3code(((T3)'C')));
/*[IF*/
if((R)<(0)){
R=(R)+(7);
}
/*FI]*/
R=r146item((T146*)(r75note_rank_array()),(R)+(1));
_j=(_j)+(1);
/*[IF*/
if((/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/)==(((T3)'\43'))){
R=(R)+(1);
_j=(_j)+(1);
}
/*FI]*/
R=(R)+((12)*(r3value(/*(IRF4.6item*/((/*RF2*/(((T7*)a1))->_storage/*4*/))[(_j)-(1)]/*)*/)));
return R;
}


T5 r75work(T75* C){
T5 R=0;
T0* _it=NULL;
_it=r200get_new_iterator_on_items((T200*)((/*RF2*/(C)->_drum_table/*65*/)));
/*[IRF3.3start*/((((T218*)(((T218*)_it))))->_item_index/*8*/)=(1);
/*]*/
while (!(r218is_off(((T218*)_it))))
{
R=(R)+(X199next_sample(r218item(((T218*)_it))));
r218next(((T218*)_it));
}
return R;
}


void r75compute_next_frame(T75* C){
T0* _it=NULL;
/*[IF*/
if(!((/*RF2*/(C)->_visited/*60*/))){
(/*SFN*/C->_mix_input/*44*/)=T2toT5(0);
_it=r65get_new_iterator((T65*)((/*RF2*/(C)->_in_connection/*8*/)));
r122start(((T122*)_it));
while (!(/*(IRF4.7is_off*/((/*RF2*/(((T122*)_it))->_current_link/*8*/))==(NULL)/*)*/))
{
X35compute_next_frame((/*RF2*/((T64*)(/*(IRF4.6item*/(/*RF2*/(((T66*)((/*RF2*/(((T122*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_src/*8*/));
(/*SFN*/C->_mix_input/*44*/)=((/*RF2*/(C)->_mix_input/*44*/))+((1.0)*(/*SSWARF2*//*X35last_frame*/(/*RF2*/((T67*)((/*RF2*/((T64*)(/*(IRF4.6item*/(/*RF2*/(((T66*)((/*RF2*/(((T122*)_it))->_current_link/*8*/))))->_item/*4*/)/*)*/))->_src/*8*/)))->_last_frame/*52*/)));
r122next(((T122*)_it));
}
(/*SFN*/C->_last_frame/*52*/)=r75work(C);
(/*SFN*/C->_visited/*60*/)=1;
}
/*FI]*/
}


void r75put_name(T75* C,T0* a1){
{T7*n=new7();
r7copy(n,a1);
(/*SFN*/C->_name/*4*/)=((T0*)n);
}
}


void r75init_picture(T75* C){
(/*SFN*/C->_posx/*28*/)=0;
(/*SFN*/C->_posy/*24*/)=0;
(/*SFN*/C->_width/*32*/)=70;
(/*SFN*/C->_height/*36*/)=25;
{T49*n=new49();
/*[IRF3.1make*//*]*/
(/*SFN*/C->_image/*40*/)=((T0*)n);
}
r49new((T49*)((/*RF2*/(C)->_image/*40*/)),(/*RF2*/(C)->_width/*32*/),(/*RF2*/(C)->_height/*36*/));
/*[IRF3.6box*/{T49* C1=(T49*)((/*RF2*/(C)->_image/*40*/));
T2 b1=0;
T2 b2=0;
T2 b3=((/*RF2*/(C)->_width/*32*/))-(1);
T2 b4=((/*RF2*/(C)->_height/*36*/))-(1);
T0* b5=r75white();
ext_box((/*RF2*/(C1)->_ptr/*5*/),b1,b2,b3,b4,(/*RF2*/(((T50*)b5))->_to_gfx_integer/*8*/));
}/*]*/
/*[IRF3.6box*/{T49* C1=(T49*)((/*RF2*/(C)->_image/*40*/));
T2 b1=2;
T2 b2=2;
T2 b3=((/*RF2*/(C)->_width/*32*/))-(3);
T2 b4=((/*RF2*/(C)->_height/*36*/))-(3);
T0* b5=/*(IRF4.8bgcolor*/r75blue()/*)*/;
ext_box((/*RF2*/(C1)->_ptr/*5*/),b1,b2,b3,b4,(/*RF2*/(((T50*)b5))->_to_gfx_integer/*8*/));
}/*]*/
/*[IRF3.5put_heading*/r49draw_text(((T49*)((/*RF2*/(C)->_image/*40*/))),4,6,(/*RF2*/(C)->_name/*4*/));
/*]*/
}


T0* r27twin(T27* C){
T0* R=NULL;
R=((void*)new27());
*((T27*)R)=*C;
return R;
}


T2 r48prime_number_ceiling(T2 a1){
T2 R=0;
/*[IF*/
if((a1)<=(53)){
R=53;
}
 else if((a1)<=(97)){
R=97;
}
 else if((a1)<=(193)){
R=193;
}
 else if((a1)<=(389)){
R=389;
}
 else if((a1)<=(769)){
R=769;
}
 else if((a1)<=(1543)){
R=1543;
}
 else if((a1)<=(3079)){
R=3079;
}
 else if((a1)<=(6151)){
R=6151;
}
 else if((a1)<=(12289)){
R=12289;
}
 else if((a1)<=(24593)){
R=24593;
}
 else if((a1)<=(49157)){
R=49157;
}
 else if((a1)<=(98317)){
R=98317;
}
 else if((a1)<=(196613)){
R=196613;
}
 else if((a1)<=(393241)){
R=393241;
}
 else if((a1)<=(786433)){
R=786433;
}
 else if((a1)<=(1572869)){
R=1572869;
}
 else if((a1)<=(3145739)){
R=3145739;
}
 else if((a1)<=(6291469)){
R=6291469;
}
 else if((a1)<=(12582917)){
R=12582917;
}
 else if((a1)<=(25165843)){
R=25165843;
}
 else if((a1)<=(50331653)){
R=50331653;
}
 else if((a1)<=(100663319)){
R=100663319;
}
 else if((a1)<=(201326611)){
R=201326611;
}
 else if((a1)<=(402653189)){
R=402653189;
}
 else if((a1)<=(805306457)){
R=805306457;
}
else{
R=1610612741;
}
/*FI]*/
return R;
}


T6 r17poll_event(T17* C){
T6 R=0;
R=ext_poll_event();
/*[IF*/
if(R){
r23update((T23*)((/*RF2*/(C)->_last_event/*40*/)));
}
/*FI]*/
return R;
}


void r17main_loop(T17* C){
while (!(0))
{
r17draw_screen(C);
ext_update_screen();
SDL_LockAudio();
r17buffer_audio(C);
SDL_UnlockAudio();
/*[IF*/
if(r17poll_event(C)){
r17process_last_event(C);
}
/*FI]*/
}
}


T0* r17song(void){
if(fBC20song==0){fBC20song=1;{
{T33*n=new33();
oBC20song=((T0*)n);
r33make(n);
}
}}
return oBC20song;
}


void r17draw_screen(T17* C){
/*[IRF3.2blank_screen*//*[IRF3.6fill_rect*/{T2 b1=0;
T2 b2=0;
T2 b3=640;
T2 b4=480;
T0* b5=r17black();
ext_fill_rect(b1,b2,b3,b4,(/*RF2*/(((T50*)b5))->_to_integer/*4*/));
}/*]*/
/*]*/
r17vis_draw(C);
X32update((/*RF2*/(C)->_current_window/*44*/));
/*[IF*/
if(((/*RF2*/(C)->_modal/*20*/))!=((void*)(NULL))){
X32update((/*RF2*/(C)->_modal/*20*/));
}
/*FI]*/
}


void r17load_buzz_dialog(T17* C){
(/*SFN*/C->_modal/*20*/)=(/*RF2*/(C)->_import_buzz_window/*16*/);
}


void r17end_program(T17* C){
SDL_PauseAudio(1);
exit(0);
}


void r17make(T17* C){
(/*SFN*/C->_vis_upper/*32*/)=256;
{T118*n=new118();
r118make(n,1,(/*RF2*/(C)->_vis_upper/*32*/));
(/*SFN*/C->_vis/*28*/)=((T0*)n);
}
{T118*n=new118();
r118make(n,1,(/*RF2*/(C)->_vis_upper/*32*/));
(/*SFN*/C->_vis_snap/*24*/)=((T0*)n);
}
(/*SFN*/C->_vis_i/*36*/)=1;
init();
{T23*n=new23();
/*[IRF3.1make*//*]*/
(/*SFN*/C->_last_event/*40*/)=((T0*)n);
}
r33put_bpm_tpb((T33*)(r17song()),150,4);
{T95*n=new95();
/*[IRF3.6make*/{T95* C1=n;
T2 b1=1;
T2 b2=21;
T2 b3=638;
T2 b4=438;
r95put_geometry(C1,b1,b2,b3,b4);
}/*]*/
(/*SFN*/C->_machine_window/*8*/)=((T0*)n);
}
{T94*n=new94();
r94make(n,1,21,638,438);
(/*SFN*/C->_pattern_window/*4*/)=((T0*)n);
}
{T96*n=new96();
r96make(n,1,21,638,438);
(/*SFN*/C->_song_window/*12*/)=((T0*)n);
}
{T93*n=new93();
r93make(n,(T0*)C);
(/*SFN*/C->_import_buzz_window/*16*/)=((T0*)n);
}
r94put_machine((T94*)((/*RF2*/(C)->_pattern_window/*4*/)),(/*RF2*/((T33*)(r17song()))->_master/*4*/));
(/*SFN*/C->_current_window/*44*/)=(/*RF2*/(C)->_machine_window/*8*/);
SDL_PauseAudio(0);
r17main_loop(C);
}


void r17vis_draw(T17* C){
T2 _y=0;
T2 _x=0;
T2 _i=0;
_i=1;
while (!((_i)>((/*RF2*/(C)->_vis_upper/*32*/))))
{
_y=(100)-(r5rounded((X118item((/*RF2*/(C)->_vis_snap/*24*/),_i))*(T2toT5(50))));
_x=(_i)+(100);
/*[IRF3.6pixelcolor*/{T2 b1=_x;
T2 b2=_y;
T0* b3=r17white();
ext_pixelcolor(b1,b2,(/*RF2*/(((T50*)b3))->_to_gfx_integer/*8*/));
}/*]*/
_i=(_i)+(1);
}
}


void r17buffer_audio(T17* C){
T5 _d=0;
while (!(!(buffer_ready())))
{
_d=r33next_sample((T33*)(r17song()));
/*[IF*/
if(((/*RF2*/(C)->_vis_i/*36*/))>((/*RF2*/(C)->_vis_upper/*32*/))){
(/*SFN*/C->_vis_i/*36*/)=1;
while (!(((/*RF2*/(C)->_vis_i/*36*/))>((/*RF2*/(C)->_vis_upper/*32*/))))
{
X118put((/*RF2*/(C)->_vis_snap/*24*/),X118_px_64((/*RF2*/(C)->_vis/*28*/),(/*RF2*/(C)->_vis_i/*36*/)),(/*RF2*/(C)->_vis_i/*36*/));
(/*SFN*/C->_vis_i/*36*/)=((/*RF2*/(C)->_vis_i/*36*/))+(1);
}
(/*SFN*/C->_vis_i/*36*/)=1;
}
/*FI]*/
X118put((/*RF2*/(C)->_vis/*28*/),_d,(/*RF2*/(C)->_vis_i/*36*/));
(/*SFN*/C->_vis_i/*36*/)=((/*RF2*/(C)->_vis_i/*36*/))+(1);
next_frame(_d,_d);
}
}
T0*oBC17test_saver=NULL;
int fBC17test_saver=0;


T0* r17test_saver(void){
if(fBC17test_saver==0){fBC17test_saver=1;{
{T83*n=new83();
oBC17test_saver=((T0*)n);
/*[IRF3.3make*/((((T83*)(n)))->_os/*4*/)=(oBC1io);
/*]*/
}
}}
return oBC17test_saver;
}


T0* r17twin(T17* C){
T0* R=NULL;
R=((void*)new17());
*((T17*)R)=*C;
return R;
}


T0* r17white(void){
if(fBC18white==0){fBC18white=1;{
{T50*n=new50();
oBC18white=((T0*)n);
r50make(n,255,255,255);
}
}}
return oBC18white;
}


void r17process_last_event(T17* C){
r85put_string((T85*)(oBC1io),r7_px_43((T7*)((/*RF2*/((T23*)((/*RF2*/(C)->_last_event/*40*/)))->_desc/*12*/)),((T0*)ms17_322)));
r85put_integer((T85*)(oBC1io),(/*RF2*/((T23*)((/*RF2*/(C)->_last_event/*40*/)))->_i1/*20*/));
/*[IRF3.4put_new_line*//*[IRF3.6put_character*/{T85* C1=(T85*)(oBC1io);
T3 b1=((T3)'\n');
putc(b1,((FILE*)(stdout)));
}/*]*/
/*]*/
/*[IF*/
if(((/*RF2*/(C)->_modal/*20*/))!=((void*)(NULL))){
X32handle_event((/*RF2*/(C)->_modal/*20*/),(/*RF2*/(C)->_last_event/*40*/));
}
else{
/*[IF*/
if(r7is_equal((T7*)((/*RF2*/((T23*)((/*RF2*/(C)->_last_event/*40*/)))->_desc/*12*/)),((T0*)ms17_2079105))){
/*[IF*/
if(int_and((/*RF2*/((T23*)((/*RF2*/(C)->_last_event/*40*/)))->_kmod/*24*/),192)){
/*[INSPECT*/
{int z1=(/*RF2*/((T23*)((/*RF2*/(C)->_last_event/*40*/)))->_i1/*20*/);
switch(z1){
case 115:
r33save((T33*)(r17song()),r17test_saver());
break;
case 108:
r17load_buzz_dialog(C);
break;
case 110:
r33make((T33*)(r17song()));
break;
default:;
X32handle_event((/*RF2*/(C)->_current_window/*44*/),(/*RF2*/(C)->_last_event/*40*/));
}
}/*INSPECT]*/
}
else{
/*[INSPECT*/
{int z1=(/*RF2*/((T23*)((/*RF2*/(C)->_last_event/*40*/)))->_i1/*20*/);
switch(z1){
case 283:
(/*SFN*/C->_current_window/*44*/)=(/*RF2*/(C)->_pattern_window/*4*/);
break;
case 284:
(/*SFN*/C->_current_window/*44*/)=(/*RF2*/(C)->_machine_window/*8*/);
break;
case 285:
(/*SFN*/C->_current_window/*44*/)=(/*RF2*/(C)->_song_window/*12*/);
break;
case 27:
r17end_program(C);
break;
case 286:
/*[IRF3.3play*/((((T33*)((T33*)(r17song()))))->_play_flag/*8*/)=(1);
/*]*/
break;
case 287:
r33rewind((T33*)(r17song()));
break;
case 289:
/*[IRF3.3pause*/((((T33*)((T33*)(r17song()))))->_play_flag/*8*/)=(0);
/*]*/
break;
default:;
X32handle_event((/*RF2*/(C)->_current_window/*44*/),(/*RF2*/(C)->_last_event/*40*/));
}
}/*INSPECT]*/
}
/*FI]*/
}
else{
X32handle_event((/*RF2*/(C)->_current_window/*44*/),(/*RF2*/(C)->_last_event/*40*/));
}
/*FI]*/
}
/*FI]*/
}


T0* r17black(void){
if(fBC18black==0){fBC18black=1;{
{T50*n=new50();
oBC18black=((T0*)n);
r50make(n,0,0,0);
}
}}
return oBC18black;
}
T17*eiffel_root_object=NULL;
int se_argc;
char**se_argv;


void initialize_eiffel_runtime(int argc,char*argv[]){
se_argc=argc;
se_argv=argv;
gcmt=((mch**)se_malloc((gcmt_max+1)*sizeof(void*)));
stack_bottom=((void**)(&argc));
#ifdef SIGINT
signal(SIGINT,se_signal_handler);
#endif
#ifdef SIGQUIT
signal(SIGQUIT,se_signal_handler);
#endif
#ifdef SIGTERM
signal(SIGTERM,se_signal_handler);
#endif
#ifdef SIGBREAK
signal(SIGBREAK,se_signal_handler);
#endif
#ifdef SIGKILL
signal(SIGKILL,se_signal_handler);
#endif
se_msi1();
/*PCO*/
oBC36scale_array=se_ma195(12,
((T0*)ms36_67),
((T0*)ms36_370),
((T0*)ms36_68),
((T0*)ms36_375),
((T0*)ms36_69),
((T0*)ms36_70),
((T0*)ms36_385),
((T0*)ms36_71),
((T0*)ms36_390),
((T0*)ms36_65),
((T0*)ms36_360),
((T0*)ms36_66));
/*PCO*/
{T7*n=new7();
oBC8string_buffer=((T0*)n);
r7make(n,64);
}
/*PCO*/
{T85*n=new85();
oBC1io=((T0*)n);
/*[IRF3.1make*//*]*/
}
/*PCO*/
{T7*n=new7();
oBC84tmp_string=((T0*)n);
r7make(n,512);
}
/*PCO*/
{T7*n=new7();
oBC2tmp_string=((T0*)n);
r7make(n,128);
}
/*PCO*/
gc_is_off=0;
eiffel_root_object=((T17*)se_malloc(sizeof(double)+sizeof(*eiffel_root_object)));
*eiffel_root_object=M17;
}
int main(int argc,char*argv[]){
initialize_eiffel_runtime(argc,argv);
{T17*n=eiffel_root_object;
r17make(n);
}
exit(0);
return 0;}
T7*ms71_247323012;
T7*ms172_529023852;
T7*ms131_1237804547;
T7*ms165_1761360889;
T7*ms36_70;
T7*ms36_65;
T7*ms36_71;
T7*ms36_66;
T7*ms36_67;
T7*ms36_68;
T7*ms36_69;
T7*ms173_13464;
T7*ms67_13464;
T7*ms130_10;
T7*ms129_21902512;
T7*ms33_810425288;
T7*ms173_1658719074;
T7*ms131_10;
T7*ms75_10a;
T7*ms83_1962444;
T7*ms75_443;
T7*ms75_483;
T7*ms95_205;
T7*ms183_668;
T7*ms94_574977583;
T7*ms130_1137;
T7*ms95_248415980;
T7*ms129_10;
T7*ms176_296345362;
T7*ms168_1658670231;
T7*ms131_27351412;
T7*ms75_265794;
T7*ms36_360;
T7*ms36_370;
T7*ms36_375;
T7*ms36_385;
T7*ms36_390;
T7*ms95_265794;
T7*ms130_10aa;
T7*ms33_810425288a;
T7*ms179_114;
T7*ms130_10aaaaaa;
T7*ms96_10527487;
T7*ms129_10aa;
T7*ms137_10;
T7*ms130_180;
T7*ms17_322;
T7*ms130_10a;
T7*ms169_1043126849;
T7*ms95_27092;
T7*ms131_56900637;
T7*ms171_296581587;
T7*ms177_1658706155;
T7*ms71_33463794;
T7*ms161_2425;
T7*ms175_1386254719;
T7*ms129_7487;
T7*ms131_10313637;
T7*ms170_2425;
T7*ms175_1327181;
T7*ms179_1325625;
T7*ms137_1812835366;
T7*ms172_2425;
T7*ms167_2425;
T7*ms131_10a;
T7*ms71_10;
T7*ms174_2425;
T7*ms95_2079105;
T7*ms35_63105;
T7*ms93_2079105;
T7*ms75_2001008752;
T7*ms178_2425;
T7*ms130_271144;
T7*ms130_10aaaa;
T7*ms33_907346911;
T7*ms130_10aaaaaaaa;
T7*ms83_34a;
T7*ms83_632;
T7*ms83_637;
T7*ms74_10;
T7*ms129_545547512;
T7*ms75_10;
T7*ms165_13464;
T7*ms33_319144a;
T7*ms95_9936697;
T7*ms129_569302452;
T7*ms83_1597872847;
T7*ms95_2425;
T7*ms130_266568097;
T7*ms83_3175a;
T7*ms69_1327181;
T7*ms83_34;
T7*ms83_0a;
T7*ms75_88721;
T7*ms74_1325625;
T7*ms93_58545095;
T7*ms83_0;
T7*ms178_581741755;
T7*ms130_1849750926;
T7*ms130_890392572;
T7*ms130_647764604;
T7*ms130_10818;
T7*ms17_2079105;
T7*ms130_12129;
T7*ms169_13464;
T7*ms130_11657;
T7*ms176_83;
T7*ms176_84;
T7*ms176_86;
T7*ms130_11907;
T7*ms130_13014;
T7*ms176_33463794;
T7*ms130_12590;
T7*ms94_41083572;
T7*ms75_247323012;
T7*ms129_39610347;
T7*ms130_12999;
T7*ms130_393297;
T7*ms95_10;
T7*ms130_2062822;
T7*ms95_39;
T7*ms130_10aaaaa;
T7*ms130_443097;
T7*ms130_10aaaaaaaaa;
T7*ms129_10a;
T7*ms129_252;
T7*ms96_10;
T7*ms129_322;
T7*ms179_76;
T7*ms96_48;
T7*ms96_49;
T7*ms179_86;
T7*ms179_99;
T7*ms93_266664786;
T7*ms131_10aa;
T7*ms129_2048762;
T7*ms94_39610347;
T7*ms75_16602;
T7*ms130_2052472;
T7*ms130_2247022;
T7*ms83_420719;
T7*ms75_17651a;
T7*ms75_17651;
T7*ms130_10aaaaaaa;
T7*ms33_319144;
T7*ms96_248415980;
T7*ms130_10aaa;
T7*ms73_319144;
T7*ms171_2425;
T7*ms166_2425;
T7*ms83_52110219;
T7*ms179_1658653172;
T7*ms168_2425;
T7*ms72_2425;
T7*ms96_2079105;
T7*ms94_2079105;
T7*ms130_248893247;
T7*ms177_2425;
T7*ms161_1065849555;
T7*ms176_690;
T7*ms83_3175;
T7*ms166_1058194184;
T7*ms170_616173747;
T7*ms167_502183218;
T7*ms95_1325625;
T7*ms130_430299720;
T7*ms83_600314783;
T7*ms83_34aa;
T7*ms83_4992;
T7*ms74_247323012;
T7*ms130_525854605;
T7*ms130_2143930291;
T7*ms174_1578465704;


T7*se_ms(int c,char*e){
/* Allocation of a Manifest STRING.*/
T7*s=((T7*)se_malloc(sizeof(gc7)));
((gc7*)s)->header.flag=FSOH_MARKED;
s->id=7;
s->_count=c;
s->_capacity=c+1;
s->_storage=((T9)new9(c+1));
memcpy(s->_storage,e,c+1);
return s;}


T7*se_string(char*e){
/* Creation of an Eiffel STRING by copying C char*e */
int c=strlen(e);
T7*s=new7();
s->_count=c;
s->_capacity=c+1;
s->_storage=((T9)new9(c+1));
memcpy(s->_storage,e,c+1);
return s;}


void se_msi1(void){
ms71_247323012=se_ms(10,"command = ");
ms172_529023852=se_ms(19,"Jeskola Wave Shaper");
ms131_1237804547=se_ms(11,"converting ");
ms165_1761360889=se_ms(17,"Geonik\'s PrimiFun");
ms36_70=se_ms(1,"F");
ms36_65=se_ms(1,"A");
ms36_71=se_ms(1,"G");
ms36_66=se_ms(1,"B");
ms36_67=se_ms(1,"C");
ms36_68=se_ms(1,"D");
ms36_69=se_ms(1,"E");
ms173_13464=se_ms(4,"ZERO");
ms67_13464=se_ms(4,"ZERO");
ms130_10=se_ms(1,"\n");
ms129_21902512=se_ms(9,", size = ");
ms33_810425288=se_ms(15,"cycle detected\n");
ms173_1658719074=se_ms(14,"Jeskola Trilok");
ms131_10=se_ms(1,"\n");
ms75_10a=se_ms(1,"\n");
ms83_1962444=se_ms(7,"class \"");
ms75_443=se_ms(2,"KD");
ms75_483=se_ms(2,"SD");
ms95_205=se_ms(2,"\'\n");
ms183_668=se_ms(2,"rb");
ms94_574977583=se_ms(41,"Press Ctrl-Enter to create a new pattern.");
ms130_1137=se_ms(3," = ");
ms95_248415980=se_ms(10,"buttondown");
ms129_10=se_ms(1,"\n");
ms176_296345362=se_ms(15,"Jeskola Tracker");
ms168_1658670231=se_ms(14,"Jeskola Filter");
ms131_27351412=se_ms(9,": put at ");
ms75_265794=se_ms(6,"BLDrum");
ms36_360=se_ms(2,"A#");
ms36_370=se_ms(2,"C#");
ms36_375=se_ms(2,"D#");
ms36_385=se_ms(2,"F#");
ms36_390=se_ms(2,"G#");
ms95_265794=se_ms(6,"BLDrum");
ms130_10aa=se_ms(1,"\n");
ms33_810425288a=se_ms(15,"cycle detected\n");
ms179_114=se_ms(1,"r");
ms130_10aaaaaa=se_ms(1,"\n");
ms96_10527487=se_ms(8,"jump to ");
ms129_10aa=se_ms(1,"\n");
ms137_10=se_ms(1,"\n");
ms130_180=se_ms(2,"\"\n");
ms17_322=se_ms(2,": ");
ms130_10a=se_ms(1,"\n");
ms169_1043126849=se_ms(23,"Jeskola Noise Generator");
ms95_27092=se_ms(5," --> ");
se_msi2();
}


void se_msi2(void){
ms131_56900637=se_ms(9,"volume = ");
ms171_296581587=se_ms(15,"Jeskola Flanger");
ms177_1658706155=se_ms(14,"Jeskola Reverb");
ms71_33463794=se_ms(9,"BLTracker");
ms161_2425=se_ms(3,"NOP");
ms175_1386254719=se_ms(13,"Jeskola Delay");
ms129_7487=se_ms(4," to ");
ms131_10313637=se_ms(8,"index = ");
ms170_2425=se_ms(3,"NOP");
ms175_1327181=se_ms(7,"BLDelay");
ms179_1325625=se_ms(7,"BLBass2");
ms137_1812835366=se_ms(19,"Unhandled machine: ");
ms172_2425=se_ms(3,"NOP");
ms167_2425=se_ms(3,"NOP");
ms131_10a=se_ms(1,"\n");
ms71_10=se_ms(1,"\n");
ms174_2425=se_ms(3,"NOP");
ms95_2079105=se_ms(7,"keydown");
ms35_63105=se_ms(5,"SETUP");
ms93_2079105=se_ms(7,"keydown");
ms75_2001008752=se_ms(22,"command is noteworthy\n");
ms178_2425=se_ms(3,"NOP");
ms130_271144=se_ms(6,"DLL: \"");
ms130_10aaaa=se_ms(1,"\n");
ms33_907346911=se_ms(24,"duplicate edge detected\n");
ms130_10aaaaaaaa=se_ms(1,"\n");
ms83_34a=se_ms(1,"\"");
ms83_632=se_ms(2,"x ");
ms83_637=se_ms(2,"y ");
ms74_10=se_ms(1,"\n");
ms129_545547512=se_ms(11,", offset = ");
ms75_10=se_ms(1,"\n");
ms165_13464=se_ms(4,"ZERO");
ms33_319144a=se_ms(6,"Master");
ms95_9936697=se_ms(8,"buttonup");
ms129_569302452=se_ms(16,"connection from ");
ms83_1597872847=se_ms(12,"start zorder");
ms95_2425=se_ms(3,"NOP");
ms130_266568097=se_ms(10,"msd size: ");
ms83_3175a=se_ms(3,"end");
ms69_1327181=se_ms(7,"BLDelay");
ms83_34=se_ms(1,"\"");
ms83_0a=se_ms(0,"");
ms75_88721=se_ms(5,"snare");
ms74_1325625=se_ms(7,"BLBass2");
ms93_58545095=se_ms(18,"Import Buzz file: ");
ms83_0=se_ms(0,"");
ms178_581741755=se_ms(12,"Jeskola EQ-3");
ms130_1849750926=se_ms(12,"attr count: ");
ms130_890392572=se_ms(13,"parsing MACH\n");
se_msi3();
}


void se_msi3(void){
ms130_647764604=se_ms(25,"didn\'t reach end of file\n");
ms130_10818=se_ms(4,"CONN");
ms17_2079105=se_ms(7,"keydown");
ms130_12129=se_ms(4,"PATT");
ms169_13464=se_ms(4,"ZERO");
ms130_11657=se_ms(4,"MACH");
ms176_83=se_ms(1,"S");
ms176_84=se_ms(1,"T");
ms176_86=se_ms(1,"V");
ms130_11907=se_ms(4,"Buzz");
ms130_13014=se_ms(4,"WAVT");
ms176_33463794=se_ms(9,"BLTracker");
ms130_12590=se_ms(4,"SEQU");
ms94_41083572=se_ms(9,"Pattern: ");
ms75_247323012=se_ms(10,"command = ");
ms129_39610347=se_ms(9,"Machine: ");
ms130_12999=se_ms(4,"WAVE");
ms130_393297=se_ms(6,"attr: ");
ms95_10=se_ms(1,"\n");
ms130_2062822=se_ms(7,"index: ");
ms95_39=se_ms(1,"\'");
ms130_10aaaaa=se_ms(1,"\n");
ms130_443097=se_ms(6,"size: ");
ms130_10aaaaaaaaa=se_ms(1,"\n");
ms129_10a=se_ms(1,"\n");
ms129_252=se_ms(2,", ");
ms96_10=se_ms(1,"\n");
ms129_322=se_ms(2,": ");
ms179_76=se_ms(1,"L");
ms96_48=se_ms(1,"0");
ms96_49=se_ms(1,"1");
ms179_86=se_ms(1,"V");
ms179_99=se_ms(1,"c");
ms93_266664786=se_ms(19,"error loading file\n");
ms131_10aa=se_ms(1,"\n");
ms129_2048762=se_ms(7,"x, y = ");
ms94_39610347=se_ms(9,"Machine: ");
ms75_16602=se_ms(4,"kick");
ms130_2052472=se_ms(7,"gsize: ");
ms130_2247022=se_ms(7,"total: ");
ms83_420719=se_ms(6,"name \"");
ms75_17651a=se_ms(4,"sine");
ms75_17651=se_ms(4,"sine");
ms130_10aaaaaaa=se_ms(1,"\n");
ms33_319144=se_ms(6,"Master");
ms96_248415980=se_ms(10,"buttondown");
ms130_10aaa=se_ms(1,"\n");
ms73_319144=se_ms(6,"Master");
ms171_2425=se_ms(3,"NOP");
ms166_2425=se_ms(3,"NOP");
se_msi4();
}


void se_msi4(void){
ms83_52110219=se_ms(9,"machine \"");
ms179_1658653172=se_ms(14,"Jeskola Bass 2");
ms168_2425=se_ms(3,"NOP");
ms72_2425=se_ms(3,"NOP");
ms96_2079105=se_ms(7,"keydown");
ms94_2079105=se_ms(7,"keydown");
ms130_248893247=se_ms(10,"cur off : ");
ms177_2425=se_ms(3,"NOP");
ms161_1065849555=se_ms(19,"Geonik\'s Expression");
ms176_690=se_ms(2,"vd");
ms83_3175=se_ms(3,"end");
ms166_1058194184=se_ms(19,"Geonik\'s Compressor");
ms170_616173747=se_ms(19,"Jeskola NiNjA dElaY");
ms167_502183218=se_ms(21,"Jeskola Stereo Reverb");
ms95_1325625=se_ms(7,"BLBass2");
ms130_430299720=se_ms(21,"n > buzz.wave_count!\n");
ms83_600314783=se_ms(13,"start machine");
ms83_34aa=se_ms(1,"\"");
ms83_4992=se_ms(4,"    ");
ms74_247323012=se_ms(10,"command = ");
ms130_525854605=se_ms(29,"can\'t handle this wav format\n");
ms130_2143930291=se_ms(12,"index /= i!\n");
ms174_1578465704=se_ms(18,"Jeskola Distortion");
}


void manifest_string_mark1(void){
((rsoh*)(ms71_247323012->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms172_529023852->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms131_1237804547->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms165_1761360889->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_70->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_65->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_71->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_66->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_67->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_68->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_69->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms173_13464->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms67_13464->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_21902512->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms33_810425288->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms173_1658719074->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms131_10->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_10a->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_1962444->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_443->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_483->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms95_205->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms183_668->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms94_574977583->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_1137->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms95_248415980->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_10->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms176_296345362->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms168_1658670231->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms131_27351412->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_265794->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_360->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_370->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_375->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_385->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms36_390->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms95_265794->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10aa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms33_810425288a->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms179_114->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10aaaaaa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms96_10527487->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_10aa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms137_10->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_180->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms17_322->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10a->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms169_1043126849->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms95_27092->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms131_56900637->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms171_296581587->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms177_1658706155->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms71_33463794->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms161_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms175_1386254719->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_7487->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms131_10313637->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms170_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms175_1327181->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms179_1325625->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms137_1812835366->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms172_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms167_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms131_10a->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms71_10->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms174_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms95_2079105->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms35_63105->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms93_2079105->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_2001008752->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms178_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_271144->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10aaaa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms33_907346911->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10aaaaaaaa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_34a->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_632->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_637->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms74_10->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_545547512->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_10->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms165_13464->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms33_319144a->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms95_9936697->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_569302452->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_1597872847->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms95_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_266568097->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_3175a->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms69_1327181->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_34->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_0a->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_88721->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms74_1325625->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms93_58545095->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_0->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms178_581741755->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_1849750926->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_890392572->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_647764604->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10818->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms17_2079105->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_12129->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms169_13464->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_11657->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms176_83->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms176_84->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms176_86->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_11907->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_13014->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms176_33463794->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_12590->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms94_41083572->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_247323012->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_39610347->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_12999->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_393297->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms95_10->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_2062822->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms95_39->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10aaaaa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_443097->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10aaaaaaaaa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_10a->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_252->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms96_10->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_322->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms179_76->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms96_48->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms96_49->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms179_86->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms179_99->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms93_266664786->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms131_10aa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms129_2048762->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms94_39610347->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_16602->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_2052472->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_2247022->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_420719->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_17651a->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms75_17651->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10aaaaaaa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms33_319144->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms96_248415980->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_10aaa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms73_319144->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms171_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms166_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_52110219->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms179_1658653172->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms168_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms72_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms96_2079105->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms94_2079105->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_248893247->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms177_2425->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms161_1065849555->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms176_690->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_3175->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms166_1058194184->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms170_616173747->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms167_502183218->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms95_1325625->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_430299720->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_600314783->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_34aa->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms83_4992->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms74_247323012->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_525854605->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms130_2143930291->_storage)-1)->header.magic_flag=RSOH_MARKED;
((rsoh*)(ms174_1578465704->_storage)-1)->header.magic_flag=RSOH_MARKED;
}


void once_function_mark(void){
if(NULL!=oBC36scale_array)gc_mark195((T195*)(oBC36scale_array));
if(NULL!=oBC133hex255table)gc_mark195((T195*)(oBC133hex255table));
if(NULL!=oBC74fade_table)Xgc_mark118((T0*)(oBC74fade_table));
if(NULL!=oBC20song)gc_mark33((T33*)(oBC20song));
if(NULL!=oBC8string_buffer)gc_mark7((T7*)(oBC8string_buffer));
if(NULL!=oBC1io)gc_mark85((T85*)(oBC1io));
if(NULL!=oBC36note_rank_array)gc_mark146((T146*)(oBC36note_rank_array));
if(NULL!=oBC36note_freq_table)Xgc_mark118((T0*)(oBC36note_freq_table));
if(NULL!=oBC18white)gc_mark50((T50*)(oBC18white));
if(NULL!=oBC18blue)gc_mark50((T50*)(oBC18blue));
if(NULL!=oBC74saw_table)Xgc_mark118((T0*)(oBC74saw_table));
if(NULL!=oBC18red)gc_mark50((T50*)(oBC18red));
if(NULL!=oBC18green)gc_mark50((T50*)(oBC18green));
if(NULL!=oBC95arrow_image)gc_mark49((T49*)(oBC95arrow_image));
if(NULL!=oBC18black)gc_mark50((T50*)(oBC18black));
if(NULL!=oBC132conv_table)gc_mark162((T162*)(oBC132conv_table));
if(NULL!=oBC5sprintf_double_buffer)gc_mark9((oBC5sprintf_double_buffer));
if(NULL!=oBC84tmp_string)gc_mark7((T7*)(oBC84tmp_string));
if(NULL!=oBC2tmp_string)gc_mark7((T7*)(oBC2tmp_string));
if(NULL!=oBC17test_saver)gc_mark83((T83*)(oBC17test_saver));
if(NULL!=oBC34machine_class_table)gc_mark44((T44*)(oBC34machine_class_table));
}
/*
-- This file is  free  software, which  comes  along  with  SmallEiffel. This
-- software  is  distributed  in the hope that it will be useful, but WITHOUT 
-- ANY  WARRANTY;  without  even  the  implied warranty of MERCHANTABILITY or
-- FITNESS  FOR A PARTICULAR PURPOSE. You can modify it as you want, provided
-- this header is kept unaltered, and a notification of the changes is added.
-- You  are  allowed  to  redistribute  it and sell it, alone or as a part of 
-- another product.
--          Copyright (C) 1994-98 LORIA - UHP - CRIN - INRIA - FRANCE
--            Dominique COLNET and Suzanne COLLIN - colnet@loria.fr 
--                       http://www.loria.fr/SmallEiffel
--
*/
/* 
   Stack and Registers traversal for PC Linux with gcc.
   Addresses decrease as the stack grows.
   Registers are saved using SETJMP().
   A little correction of the non-accurate `stack_bottom' seams to 
   be necessary here.
*/

void mark_stack_and_registers (void) {
  void** max = stack_bottom + 10; /* stack_bottom correction here. */
  void** stack_pointer;
  jmp_buf registers;

  (void)setjmp(registers);
  stack_pointer = ((void**)(&registers));
  while (stack_pointer < max) {
    gc_mark(*(stack_pointer++));
  }
}


void gc_start(void){
if(gc_is_off)return;
if(garbage_delayed())return;
gcmt_tail_addr=(((char*)(gcmt[gcmt_used-1]))+(gcmt[gcmt_used-1])->size);
((gc17*)eiffel_root_object)->header.flag=FSOH_UNMARKED;
gc_free85=NULL;
gc_free96=NULL;
gc_free167=NULL;
gc_free161=NULL;
gc_free165=NULL;
if(na_env160.store_left>0){
na_env160.store->header.size=na_env160.store_left;
na_env160.store->header.magic_flag=RSOH_FREE;
na_env160.store_left=0;
}
na_env160.chunk_list=NULL;
na_env160.store_chunk=NULL;
gc_free218=NULL;
gc_free74=NULL;
gc_free205=NULL;
gc_free184=NULL;
gc_free175=NULL;
if(na_env152.store_left>0){
na_env152.store->header.size=na_env152.store_left;
na_env152.store->header.magic_flag=RSOH_FREE;
na_env152.store_left=0;
}
na_env152.chunk_list=NULL;
na_env152.store_chunk=NULL;
gc_free172=NULL;
gc_free189=NULL;
gc_free134=NULL;
gc_free174=NULL;
gc_free146=NULL;
if(na_env227.store_left>0){
na_env227.store->header.size=na_env227.store_left;
na_env227.store->header.magic_flag=RSOH_FREE;
na_env227.store_left=0;
}
na_env227.chunk_list=NULL;
na_env227.store_chunk=NULL;
if(na_env164.store_left>0){
na_env164.store->header.size=na_env164.store_left;
na_env164.store->header.magic_flag=RSOH_FREE;
na_env164.store_left=0;
}
na_env164.chunk_list=NULL;
na_env164.store_chunk=NULL;
gc_free138=NULL;
if(na_env142.store_left>0){
na_env142.store->header.size=na_env142.store_left;
na_env142.store->header.magic_flag=RSOH_FREE;
na_env142.store_left=0;
}
na_env142.chunk_list=NULL;
na_env142.store_chunk=NULL;
gc_free131=NULL;
gc_free114=NULL;
gc_free71=NULL;
gc_free212=NULL;
gc_free171=NULL;
if(na_env229.store_left>0){
na_env229.store->header.size=na_env229.store_left;
na_env229.store->header.magic_flag=RSOH_FREE;
na_env229.store_left=0;
}
na_env229.chunk_list=NULL;
na_env229.store_chunk=NULL;
gc_free140=NULL;
gc_free27=NULL;
gc_free44=NULL;
gc_free59=NULL;
gc_free61=NULL;
gc_free125=NULL;
gc_free163=NULL;
gc_free178=NULL;
gc_free99=NULL;
gc_free81=NULL;
gc_free137=NULL;
gc_free93=NULL;
gc_free170=NULL;
gc_free180=NULL;
gc_free166=NULL;
gc_free49=NULL;
gc_free185=NULL;
gc_free72=NULL;
if(na_env182.store_left>0){
na_env182.store->header.size=na_env182.store_left;
na_env182.store->header.magic_flag=RSOH_FREE;
na_env182.store_left=0;
}
na_env182.chunk_list=NULL;
na_env182.store_chunk=NULL;
gc_free213=NULL;
gc_free50=NULL;
if(na_env119.store_left>0){
na_env119.store->header.size=na_env119.store_left;
na_env119.store->header.magic_flag=RSOH_FREE;
na_env119.store_left=0;
}
na_env119.chunk_list=NULL;
na_env119.store_chunk=NULL;
gc_free82=NULL;
if(na_env155.store_left>0){
na_env155.store->header.size=na_env155.store_left;
na_env155.store->header.magic_flag=RSOH_FREE;
na_env155.store_left=0;
}
na_env155.chunk_list=NULL;
na_env155.store_chunk=NULL;
if(na_env58.store_left>0){
na_env58.store->header.size=na_env58.store_left;
na_env58.store->header.magic_flag=RSOH_FREE;
na_env58.store_left=0;
}
na_env58.chunk_list=NULL;
na_env58.store_chunk=NULL;
gc_free66=NULL;
gc_free149=NULL;
gc_free73=NULL;
if(na_env204.store_left>0){
na_env204.store->header.size=na_env204.store_left;
na_env204.store->header.magic_flag=RSOH_FREE;
na_env204.store_left=0;
}
na_env204.chunk_list=NULL;
na_env204.store_chunk=NULL;
gc_free122=NULL;
gc_free129=NULL;
gc_free176=NULL;
gc_free162=NULL;
gc_free124=NULL;
gc_free77=NULL;
gc_free64=NULL;
if(na_env100.store_left>0){
na_env100.store->header.size=na_env100.store_left;
na_env100.store->header.magic_flag=RSOH_FREE;
na_env100.store_left=0;
}
na_env100.chunk_list=NULL;
na_env100.store_chunk=NULL;
if(na_env145.store_left>0){
na_env145.store->header.size=na_env145.store_left;
na_env145.store->header.magic_flag=RSOH_FREE;
na_env145.store_left=0;
}
na_env145.chunk_list=NULL;
na_env145.store_chunk=NULL;
gc_free153=NULL;
if(na_env194.store_left>0){
na_env194.store->header.size=na_env194.store_left;
na_env194.store->header.magic_flag=RSOH_FREE;
na_env194.store_left=0;
}
na_env194.chunk_list=NULL;
na_env194.store_chunk=NULL;
if(na_env187.store_left>0){
na_env187.store->header.size=na_env187.store_left;
na_env187.store->header.magic_flag=RSOH_FREE;
na_env187.store_left=0;
}
na_env187.chunk_list=NULL;
na_env187.store_chunk=NULL;
if(na_env79.store_left>0){
na_env79.store->header.size=na_env79.store_left;
na_env79.store->header.magic_flag=RSOH_FREE;
na_env79.store_left=0;
}
na_env79.chunk_list=NULL;
na_env79.store_chunk=NULL;
gc_free169=NULL;
gc_free197=NULL;
gc_free42=NULL;
gc_free111=NULL;
gc_free69=NULL;
gc_free211=NULL;
gc_free55=NULL;
gc_free109=NULL;
gc_free57=NULL;
gc_free65=NULL;
gc_free179=NULL;
gc_free210=NULL;
gc_free139=NULL;
gc_free67=NULL;
if(na_env190.store_left>0){
na_env190.store->header.size=na_env190.store_left;
na_env190.store->header.magic_flag=RSOH_FREE;
na_env190.store_left=0;
}
na_env190.chunk_list=NULL;
na_env190.store_chunk=NULL;
gc_free7=NULL;
gc_free168=NULL;
gc_free54=NULL;
gc_free56=NULL;
gc_free130=NULL;
gc_free83=NULL;
gc_free200=NULL;
gc_free158=NULL;
if(na_env9.store_left>0){
na_env9.store->header.size=na_env9.store_left;
na_env9.store->header.magic_flag=RSOH_FREE;
na_env9.store_left=0;
}
na_env9.chunk_list=NULL;
na_env9.store_chunk=NULL;
gc_free201=NULL;
gc_free209=NULL;
gc_free95=NULL;
gc_free46=NULL;
gc_free78=NULL;
if(na_env63.store_left>0){
na_env63.store->header.size=na_env63.store_left;
na_env63.store->header.magic_flag=RSOH_FREE;
na_env63.store_left=0;
}
na_env63.chunk_list=NULL;
na_env63.store_chunk=NULL;
gc_free17=NULL;
gc_free203=NULL;
gc_free94=NULL;
gc_free76=NULL;
gc_free173=NULL;
gc_free23=NULL;
gc_free143=NULL;
gc_free150=NULL;
gc_free33=NULL;
if(na_env202.store_left>0){
na_env202.store->header.size=na_env202.store_left;
na_env202.store->header.magic_flag=RSOH_FREE;
na_env202.store_left=0;
}
na_env202.chunk_list=NULL;
na_env202.store_chunk=NULL;
gc_free135=NULL;
gc_free193=NULL;
gc_free195=NULL;
gc_free51=NULL;
gc_free183=NULL;
gc_free60=NULL;
if(na_env47.store_left>0){
na_env47.store->header.size=na_env47.store_left;
na_env47.store->header.magic_flag=RSOH_FREE;
na_env47.store_left=0;
}
na_env47.chunk_list=NULL;
na_env47.store_chunk=NULL;
gc_free206=NULL;
if(na_env157.store_left>0){
na_env157.store->header.size=na_env157.store_left;
na_env157.store->header.magic_flag=RSOH_FREE;
na_env157.store_left=0;
}
na_env157.chunk_list=NULL;
na_env157.store_chunk=NULL;
gc_free136=NULL;
if(na_env148.store_left>0){
na_env148.store->header.size=na_env148.store_left;
na_env148.store->header.magic_flag=RSOH_FREE;
na_env148.store_left=0;
}
na_env148.chunk_list=NULL;
na_env148.store_chunk=NULL;
gc_free208=NULL;
gc_free92=NULL;
gc_free113=NULL;
gc_free40=NULL;
gc_free127=NULL;
gc_free107=NULL;
gc_free80=NULL;
gc_free62=NULL;
gc_free118=NULL;
gc_free177=NULL;
gc_free188=NULL;
gc_free75=NULL;
gc_mark17(eiffel_root_object);
manifest_string_mark1();
once_function_mark();
mark_stack_and_registers();
gc_sweep();
gc_start_count++;
}
gc85*store85=NULL;
int store_left85=0;
fsoc*store_chunk85=NULL;
gc85*gc_free85=NULL;
gc96*store96=NULL;
int store_left96=0;
fsoc*store_chunk96=NULL;
gc96*gc_free96=NULL;
gc167*store167=NULL;
int store_left167=0;
fsoc*store_chunk167=NULL;
gc167*gc_free167=NULL;
gc161*store161=NULL;
int store_left161=0;
fsoc*store_chunk161=NULL;
gc161*gc_free161=NULL;
gc165*store165=NULL;
int store_left165=0;
fsoc*store_chunk165=NULL;
gc165*gc_free165=NULL;
na_env na_env160={0,NULL,NULL,NULL,(void(*)(T0*))gc_mark160};
gc218*store218=NULL;
int store_left218=0;
fsoc*store_chunk218=NULL;
gc218*gc_free218=NULL;
gc74*store74=NULL;
int store_left74=0;
fsoc*store_chunk74=NULL;
gc74*gc_free74=NULL;
gc205*store205=NULL;
int store_left205=0;
fsoc*store_chunk205=NULL;
gc205*gc_free205=NULL;
gc184*store184=NULL;
int store_left184=0;
fsoc*store_chunk184=NULL;
gc184*gc_free184=NULL;

