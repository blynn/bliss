Fri Apr  4 09:53:30 PST 2003
    Added 3D borders.

    Added sidebar.

    [bliss-0.03.tgz]

Thu Apr  3 10:25:41 PST 2003
    Better Buzz machine loading, plugged some memory leaks.

    ...

    Converted widget_moved() stuff into signals.
    Changed signal handling code: now all attached signals are called.

Thu Apr  3 00:04:27 PST 2003
    Modified dumpbuzz.c in preparation for better Buzz parameter loading.

    Machine dump looks like this now:

begin machine
	dll MASTER.dll
	type 0
	begin gparam
		type 3
		id Volume
		desc Master Volume
		min 0
		max 0x4000
		no 0xFFFF
		flags 2
		default 0x2000
	end gparam
	begin gparam
		type 3
		id bpm
		desc Beats Per Minute
		min 0x10
		max 0x200
		no 0xFFFF
		flags 2
		default 126
	end gparam
	begin gparam
		type 2
		id tpb
		desc Ticks Per Beat
		min 1
		max 0x20
		no 0xFF
		flags 2
		default 4
	end gparam
end machine

    Moved parsing code to parse.c

Mon Mar 31 10:09:40 PST 2003
    Disassembly is a little cumbersome.
    For now, will just settle with being able to read parameter information.

    ...

    With the help of dumpbuzz.c, added conversion info for many buzz
    machines.
    Will rewrite so that it has proper pattern/init_state information.

    Added envelope parsing code.

    Note value = 0xFF means note off. This was crashing convert_buzz.c.

    Jeskola Reverb 2.dll contains a naming bug.

Mon Mar 31 01:48:58 PST 2003
    Been looking into loading native Buzz DLL's.

    Wrote dumpbuzz.c which can get Buzz parameter information out of a
    Buzz DLL.

Sun Mar 30 12:20:20 PST 2003
    Listboxes work.

    Yet another kludge: appear_active flag in textbox.c
    Will clean GUI code when program has more functionality.

    Converted Jeskola Distortion.

    Converted Jeskola Noise Generator.

    Need to convert Buzz's amplitude scale properly before it'll sound
    the same.

    Made a master a built-in machine, not a plugin, to avoid problems
    involving shared libraries.

    ...

    Changed the "sine" plugin so it can do an arbitrary number of notes.

    [bliss-0.02.tgz]

Sat Mar 29 22:40:57 PST 2003
    Added int *buzz_state to struct machine_s to make it easier for me.

    Can click to move playline.

    Added song_end

    Decided against changing song file format, will require machines to
    have unique names.

Sat Mar 29 10:10:31 PST 2003
    Improved GUI focus code.

    Added status bar.

    Added BPM, TPB textboxes.

    BPM and TPB are done correctly. (i.e. they are parameters of Master.)

    Changed pattern data structure to a linked list of linked lists.

    Implemented insert/delete for pattern, song windows.

    Doesn't crash when loading nonexistent files.

Fri Mar 28 17:50:31 PST 2003
    Converting buzz machines is troublesome enough as it is, will try and
    make it as easy as possible.

    Bugfix: pattern_tick() wasn't returning after a play_row_at() call,
    causing extraneous machine_parse() and machine_tick() calls.

    ...

    Rewrote bass2 code, a bit cleaner now.

    ...

    Converted Jeskola Delay. Not too much trouble.
    Original code seems a little strange e.g. "3" is
    hardcoded twice. Why isn't initialization with default values done
    automatically?

    Headache: Buzz words take twice the room of bytes, have to handle them
    somehow.

    Added playlines.

Fri Mar 28 12:16:54 PST 2003
    Plugins: instead of machine_info struct, now provide machine_info_init
    function. More flexible, and easier to debug.

    Added machine->tick(): this is called at the end of every row in a pattern.
    Handy for porting buzz machines.

    Changing cells so that the parsing happens during data entry, not playback.

Sat Mar 22 19:24:08 PST 2003
    Added screenshot function.

    bugfix: was using pattern->id before it was initialized
    during machine_pattern_new_auto_id()

    [bliss-0.01.tgz]

Sat Mar 22 11:39:32 PST 2003
    bugfix: new_pattern_name: wasn't cloning string.

Fri Mar 21 20:53:21 PST 2003
    Added window widgets, very kludgy but they appear to work.

    Added about window, filename textbox window.

    Cleaned up mlist.c, pl.c, so that pl.c is barebones platform-dependent
    code, while mlist is higher-level list of machine info.

    New machine brings up list of available machines.

    Implemented rename. Just realized the machine names don't have to be
    unique, which means I shouldn't have called them ID's, and additionally
    I'll have to change the file format (edges and master selector).

    Wavedata save/loads correctly. (Uses base64.)

    Added menuitem highlight.

Fri Mar 21 10:58:26 PST 2003
    Spreadsheet editing is much better.

    Code cleanup: moved audio code and root window code out of main.c

    Not sure how much to rely on signals, and how much to rely on builtin
    function pointers. (e.g. for moving/resizing?) I'll experiment with
    resize events = signal. I could change update, move, etc. as well,
    perhaps even the event handler.

    Can handle window resizes now.

Thu Mar 20 19:23:00 PST 2003
    Plays bass track of demo.

    Now old problems are coming back to haunt me. The trouble with the
    column-independent way of doing things is that it makes it tricky to do
    several tracks. Last time I had a "t" command for track select.
    MIDI doesn't have this problem because a particular note is either playing
    or not playing (unlike trackers, where the same note can play against
    itself).

    This time, I'll won't have the t command. Instead, I'll use the column
    number of the spreadsheet to determine the action.

    All this parsing code is annoying. Perhaps it should be done as soon
    as it is entered in the spreadsheet.

    Rudimentary tracker works (no effects yet).

    Basic textbox works.

Thu Mar 20 12:36:18 PST 2003
    Bugfix: forgot that pattern data contains 0's, which means no ASCIIZ.
    
Wed Mar 19 21:28:25 PST 2003
    Save/load works.

    Found bug in read_word, read_dword: problem with << on char which is
    signed (fixed by using unsigned char).

    Buzz conversion prorgessing well.

Wed Mar 19 18:37:57 PST 2003
    Fixed stupid bug in blbass2.c, sine.c: I had swapped two lines so
    variable declarations were before statements, but then I forgot to
    move the malloc.

Wed Mar 19 14:34:03 PST 2003
    Added New Song, Save Song, Load Song menu items, started work on
    save/load routines. Have to think about how to handle plugin filenames.

Wed Mar 19 00:19:25 PST 2003
    Functional (but practically unusable): can edit patterns and tracks
    such that sine wave changes frequency during playback.
    
    Fixed z-ordering problem (it was affecting machine orders globally;
    need to create separate z-order list).

    Added buttons, program is more usable now.

    Started work on buzz conversion code.

Tue Mar 18 00:57:11 PST 2003
    Having trouble with include files depending on each other.
    Will think about this later.

    Coded grid widget, used by pattern window and song window.

    Added tracks, can edit patterns/tracks, but still not quite enough
    for a complete song.
 
Mon Mar 17 17:32:37 PST 2003
    First version of pattern will use linked lists.

Mon Mar 17 14:03:50 PST 2003
    Spreadsheet coming along nicely.

    Added Action menu. Draws edges, with arrow in a circle.

Mon Mar 17 01:32:18 PST 2003
    Can delete machines via popup menu accessed with RMB.

    Started pattern windows.

    Modified SDL_gfx header file: DLLINTERFACE has to be empty otherwise
    it won't compile for Windows.

    Wrote winpl.? so it compiles for Windows now. Binary untested.

Sun Mar 16 16:54:00 PST 2003
    Lost old NEWS file and machine.c due to LUFS bug (I think) :(
    Could be worse: only lost about 10mins work.
    (I had stopped working on this and only restarted a few days ago.)
    Since last entry: added (messy) GUI code.

    Copied SDL_gfx code into directory.

    Can connect machines.

    Old code looks crufty. fillcount variable seems unnecessary,
    clearing buf_ready should not require an additional test.

    Removed audio buffer, and it seems to work better in general,
    though now underruns occur when the program window just loses focus
    for example. Might introduce thread for GUI stuff, and have a separate
    sound buffering thread.

Wed Jan 22 08:25:27 PST 2003
    Experimented with dlopen et al. Seems pretty easy to use. Makefile will
    need changing though.

Tue Jan 21 02:43:59 PST 2003
    Slow progress. Can drag machines on screen.

Thu Jan  9 03:06:03 PST 2003
    Restarted (again) in C, because previous attempt seemed too slow.
